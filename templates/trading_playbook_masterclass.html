{% extends "base.html" %}
{% block title %}Trading-Playbook Grundlagen - Metalearning & The Process{% endblock %}

{% block head %}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Body styles werden von base.html √ºbernommen */

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #b8860b 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-size: 2.8em;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ffffff, #f4e97b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.4em;
            font-weight: 400;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .process-badge {
            display: inline-block;
            background: linear-gradient(45deg, #daa520, #f4e97b);
            color: #1a1a1a;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: 700;
            font-size: 0.9em;
            margin-top: 1rem;
        }

        /* Content Cards */
        .content-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .content-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .section-title {
            font-size: 1.8em;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 1rem;
            border-left: 4px solid #daa520;
            padding-left: 1rem;
        }

        .quote-section {
            background: linear-gradient(135deg, #f4e97b 0%, #daa520 100%);
            color: #1a1a1a;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            position: relative;
            font-style: italic;
            font-size: 1.2em;
            text-align: center;
        }

        .quote-section::before {
            content: '"';
            font-size: 4em;
            position: absolute;
            top: -10px;
            left: 20px;
            opacity: 0.3;
        }

        .key-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .key-point {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid #059669;
        }

        .key-point h4 {
            color: #155724;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .key-point p {
            color: #155724;
            font-size: 1.05em;
        }

        .process-step {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid #d69e2e;
            margin: 1rem 0;
        }

        .process-step h4 {
            color: #856404;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .process-step p, .process-step ul {
            color: #856404;
            font-size: 1.05em;
        }

        .process-step ul {
            margin: 0.5rem 0 0 1rem;
        }

        .process-step li {
            margin: 0.3rem 0;
        }

        .warning-box {
            background: linear-gradient(135deg, #fce4ec, #f8bbd9);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid #e91e63;
            margin: 1rem 0;
        }

        .warning-box h4 {
            color: #880e4f;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .warning-box p {
            color: #880e4f;
            font-size: 1.05em;
        }

        .interactive-section {
            background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
        }

        .interactive-title {
            font-size: 2em;
            font-weight: 700;
            text-align: center;
            margin-bottom: 2rem;
            background: linear-gradient(45deg, #f4e97b, #daa520);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .checklist-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 8px;
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checklist-item:hover {
            background: rgba(218, 165, 32, 0.2);
        }

        .checklist-item.completed {
            background: linear-gradient(135deg, #059669, #10b981);
        }

        .checklist-item input[type="checkbox"] {
            margin-right: 1rem;
            transform: scale(1.2);
        }

        .playbook-template {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .playbook-template h5 {
            color: #f4e97b;
            margin-bottom: 1rem;
            font-size: 1.2em;
        }

        .playbook-template textarea {
            width: 100%;
            min-height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 1rem;
            color: white;
            font-family: 'Inter', sans-serif;
            resize: vertical;
        }

        .playbook-template textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        /* Navigation */
        .nav-links {
            text-align: center;
            margin: 3rem 0;
            padding: 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-links a {
            color: #b8860b;
            text-decoration: none;
            margin: 0 15px;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            background: linear-gradient(135deg, #daa520, #f4e97b);
            color: #1a1a1a;
            transform: translateY(-2px);
        }

        /* Quiz Styles */
        .quiz-question {
            margin-bottom: 2rem;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .quiz-option:hover {
            background: rgba(218, 165, 32, 0.2);
            border-color: rgba(218, 165, 32, 0.5);
        }

        .quiz-option.selected {
            background: rgba(218, 165, 32, 0.3);
            border-color: #daa520;
        }

        .quiz-option.correct {
            background: linear-gradient(135deg, #059669, #10b981);
            border-color: #059669;
        }

        .quiz-option.wrong {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            border-color: #dc2626;
        }

        .quiz-option input[type="radio"] {
            margin-right: 1rem;
            transform: scale(1.2);
        }

        .quiz-option label {
            cursor: pointer;
            color: white;
            font-weight: 500;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .content-card {
                padding: 1.5rem;
            }

            .key-points {
                grid-template-columns: 1fr;
            }

            .quiz-controls {
                flex-direction: column;
                gap: 10px;
            }

            .quiz-controls button {
                width: 100%;
                max-width: 200px;
            }
        }
    </style>

    <!-- Navigation einbinden -->
    {% include '_navigation.html' %}
    
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">üìã Trading-Playbook Grundlagen</h1>
                <p class="hero-subtitle">Systematische Trade-Vorbereitung nach The Playbook von Mike BellaFiori</p>
                <p style="font-size: 1.1em; opacity: 0.8;">Von der Idee zum profitablen System - Dein "Quarterback-Spielbuch" f√ºr erfolgreiches Trading</p>
                <div class="process-badge">üèÜ Elite - System III</div>
            </div>
        </div>

        <!-- Introduction -->
        <div class="content-card">
            <div class="section-title">üéØ Was ist ein Trading-Playbook?</div>
            <p style="font-size: 1.1em; margin-bottom: 1rem;">
                Ein Trading-Playbook ist dein pers√∂nliches <strong>"Buch der Setups"</strong> - ein systematisches Dokument, 
                das spezifische Trades detailliert beschreibt, die du ausf√ºhren kannst und f√ºr die du Risiken zuweist.
            </p>
            
            <div class="quote-section">
                √Ñhnlich einem Quarterback-Spielbuch ist es dein strategischer Leitfaden f√ºr effektives Trading. 
                Das Konzept wurde von Mike Bella Fiori popul√§r gemacht und von dem Market Wizard und #1 Trader bei Trillium Lance Breitstein weiter entwickelt.
            </div>

            <div class="key-points">
                <div class="key-point">
                    <h4>üìä Systematische Dokumentation</h4>
                    <p>Jedes Setup wird mit spezifischen Kriterien, Einstiegspunkten und Risikomanagement dokumentiert.</p>
                </div>
                
                <div class="key-point">
                    <h4>üéØ Konsistente Ausf√ºhrung</h4>
                    <p>Eliminiert emotionale Entscheidungen durch vordefinierte Handelsregeln und klare Prozesse.</p>
                </div>
                
                <div class="key-point">
                    <h4>üìà Kontinuierliche Verbesserung</h4>
                    <p>Erm√∂glicht systematisches Backtesting und Optimierung deiner Trading-Strategien.</p>
                </div>
            </div>
        </div>

        <!-- Warum ein Playbook wichtig ist -->
        <div class="content-card">
            <div class="section-title">‚ùì Warum ist ein Playbook entscheidend?</div>
            
            <div class="warning-box">
                <h4>‚ö†Ô∏è Das Problem der meisten Amateur-Trader</h4>
                <p>
                    Die meisten Amateur-Trader haben kein definiertes System, was es unm√∂glich macht, 
                    die Qualit√§t ihrer Trades oder die √úbereinstimmung mit Studien zu beurteilen.
                </p>
            </div>

            <p style="font-size: 1.1em; margin-bottom: 1.5rem;">
                Ein Playbook revolutioniert deine Trading-Bewertung: <strong>Der Erfolg eines Handelstages wird nicht 
                am Gewinn und Verlust (P&L) gemessen, sondern daran, ob Trades innerhalb des Systems 
                und den besten Setups ausgef√ºhrt wurden.</strong>
            </p>

            <div class="key-points">
                <div class="key-point">
                    <h4>üîç Objektive Bewertung</h4>
                    <p>Bewerte deine Performance anhand der Einhaltung deines Systems, nicht nur am P&L.</p>
                </div>
                
                <div class="key-point">
                    <h4>üìö Referenz f√ºr Studien</h4>
                    <p>Dient als Grundlage f√ºr zuk√ºnftige Analysen und das Erkennen von Setup-Nuancen.</p>
                </div>
                
                <div class="key-point">
                    <h4>üß™ Backtesting-Basis</h4>
                    <p>Erm√∂glicht systematisches Testen historischer Daten f√ºr kontinuierliche Optimierung.</p>
                </div>
            </div>
        </div>

        <!-- Lance's Methodik -->
        <div class="content-card">
            <div class="section-title">‚öôÔ∏è Lance's Playbook-Methodik</div>
            
            <p style="font-size: 1.1em; margin-bottom: 2rem;">
                Lance hat √ºber Jahre eine bew√§hrte Methodik entwickelt, um Trading-Playbooks systematisch zu erstellen und zu optimieren:
            </p>

            <div class="process-step">
                <h4>üìù Schritt 1: Organisation mit Evernote</h4>
                <p>F√ºr jede Kategorie von Trade-Setups wird ein separates Notizbuch in Evernote erstellt.</p>
                <ul>
                    <li>Momentum-Breakouts</li>
                    <li>Mean-Reversion-Plays</li>
                    <li>Gap-Trading-Setups</li>
                    <li>Earnings-Reaktionen</li>
                    <li>Sector-Rotation-Trades</li>
                </ul>
            </div>

            <div class="process-step">
                <h4>üéØ Schritt 2: Master-Notiz pro Setup-Typ</h4>
                <p>Jedes Notizbuch enth√§lt eine Master-Notiz mit folgenden Komponenten:</p>
                <ul>
                    <li><strong>Annotierte Charts:</strong> 5 bis 20 typische Charts, die zeigen, wie sich das Setup √ºblicherweise entfaltet</li>
                    <li><strong>Setup-Kriterien:</strong> Klare Definition der Einstiegsbedingungen</li>
                    <li><strong>Risikomanagement:</strong> Stop-Loss-Regeln und Positionsgr√∂√üen</li>
                    <li><strong>Exit-Strategien:</strong> Gewinnmitnahme und Verlustbegrenzung</li>
                </ul>
            </div>

            <div class="process-step">
                <h4>üìä Schritt 3: Chart-Ranking-System</h4>
                <p>Innerhalb jeder Kategorie wird ein Dokument erstellt, das die Charts nach Qualit√§t bewertet:</p>
                <ul>
                    <li><strong>Herausragend (A+):</strong> Perfekte Setup-Bedingungen</li>
                    <li><strong>Sehr gut (A):</strong> Starke Setup-Wahrscheinlichkeit</li>
                    <li><strong>Gut (B):</strong> Solide Setup-Grundlage</li>
                    <li><strong>Durchschnittlich (C):</strong> Akzeptable Bedingungen</li>
                    <li><strong>Schwach (D):</strong> Riskante oder unklare Setups</li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>üí° Lance's Geheimnis: Exponentielles Bet Sizing</h4>
                <p>
                    Das Verst√§ndnis dieser Setup-Nuancen ist entscheidend f√ºr das "exponentielle Bet Sizing" - 
                    du setzt bei A+ Setups mehr Kapital ein als bei C-Setups, um langfristig P&L zu maximieren. Alle erfahrenen Trader haben ein solches System. Didi setzt gro√üe Mengen bei A+ Setups ein, wenn er viel Confluence hat.
                </p>
            </div>
        </div>

        <!-- Interactive Playbook Builder -->
        <div class="interactive-section">
            <h2 class="interactive-title">üõ†Ô∏è Dein Playbook-Builder</h2>
            <p style="text-align: center; margin-bottom: 2rem; font-size: 1.1em;">
                Erstelle systematisch dein eigenes Trading-Playbook mit dieser interaktiven Checkliste
            </p>
            
            <div class="playbook-template">
                <h5>üìã Setup-Kategorie definieren</h5>
                <textarea placeholder="z.B. Momentum-Breakout, Gap-Fill, Earnings-Play, etc."></textarea>
            </div>

            <div class="playbook-template">
                <h5>üéØ Einstiegskriterien</h5>
                <textarea placeholder="Definiere klare, messbare Kriterien f√ºr den Trade-Einstieg..."></textarea>
            </div>

            <div class="playbook-template">
                <h5>üõ°Ô∏è Risikomanagement</h5>
                <textarea placeholder="Stop-Loss-Regeln (Z.B.Kelly-Score), maximales Risiko pro Trade, Positionsgr√∂√üe..."></textarea>
            </div>

            <div class="playbook-template">
                <h5>üö™ Exit-Strategien</h5>
                <textarea placeholder="Gewinnmitnahme-Regeln, Trailing-Stops, Zeit-Exits..."></textarea>
            </div>

            <div class="checklist-item">
                <input type="checkbox" id="check1">
                <label for="check1">5-20 annotierte Charts f√ºr dieses Setup gesammelt</label>
            </div>

            <div class="checklist-item">
                <input type="checkbox" id="check2">
                <label for="check2">Setup-Kriterien klar und messbar definiert</label>
            </div>

            <div class="checklist-item">
                <input type="checkbox" id="check3">
                <label for="check3">Risikomanagement-Regeln festgelegt</label>
            </div>

            <div class="checklist-item">
                <input type="checkbox" id="check4">
                <label for="check4">Exit-Strategien dokumentiert</label>
            </div>

            <div class="checklist-item">
                <input type="checkbox" id="check5">
                <label for="check5">Chart-Ranking-System (A+ bis D) implementiert</label>
            </div>

            <div class="checklist-item">
                <input type="checkbox" id="check6">
                <label for="check6">Backtesting-Daten gesammelt</label>
            </div>

            <div class="checklist-item">
                <input type="checkbox" id="check7">
                <label for="check7">Bet-Sizing-Regeln basierend auf Setup-Qualit√§t definiert</label>
            </div>
        </div>

        <!-- Kernbotschaft -->
        <div class="content-card">
            <div class="section-title">üéØ Die Nicht-Verhandelbaren</div>
            
            <div class="quote-section">
                Unabh√§ngig von der genauen Vorlage ist es entscheidend, eine Datenbank zu erstellen, 
                die Charts f√ºr alle verschiedenen Handels-Kategorien organisiert.
            </div>

            <p style="font-size: 1.1em; margin-bottom: 1.5rem;">
                Lance's Kernbotschaft ist klar: <strong>Ein System zur Definition von Trades und zur Unterscheidung 
                der besten und schlechtesten Setups ist f√ºr jeden Trade-Typ unerl√§sslich.</strong>
            </p>

            <div class="key-points">
                <div class="key-point">
                    <h4>üóÇÔ∏è Systematische Organisation</h4>
                    <p>Erstelle eine strukturierte Datenbank f√ºr alle deine Trading-Kategorien und Setups.</p>
                </div>
                
                <div class="key-point">
                    <h4>üìè Klare Definitionen</h4>
                    <p>Jeder Trade-Typ muss eindeutig definiert und von anderen Setups abgrenzbar sein.</p>
                </div>
                
                <div class="key-point">
                    <h4>‚öñÔ∏è Qualit√§tsbewertung</h4>
                    <p>Entwickle ein System zur Bewertung der Setup-Qualit√§t f√ºr optimales Risikomanagement.</p>
                </div>
                
                <div class="key-point">
                    <h4>üîÑ Kontinuierliche Verfeinerung</h4>
                    <p>Dein Playbook ist ein lebendiges Dokument, das st√§ndig aktualisiert und verbessert wird.</p>
                </div>
            </div>
        </div>

        <!-- Key Takeaways -->
        <div class="content-card">
            <div class="section-title">üéØ Key Takeaways: Playbook Essentials</div>
            
            <div class="key-points">
                <div class="key-point">
                    <h4>üìã Playbook = Quarterback-Spielbuch</h4>
                    <p>Systematische Dokumentation aller Trading-Setups mit klaren Kriterien und Regeln.</p>
                </div>
                
                <div class="key-point">
                    <h4>üéØ Erfolg ‚â† P&L am Tag</h4>
                    <p>Bewerte deinen Erfolg anhand der Einhaltung deines Systems, nicht nur am t√§glichen Gewinn.</p>
                </div>
                
                <div class="key-point">
                    <h4>üìä Chart-Ranking ist entscheidend</h4>
                    <p>A+ bis D Bewertung erm√∂glicht exponentielles Bet Sizing f√ºr maximale Profitabilit√§t.</p>
                </div>
                
                <div class="key-point">
                    <h4>üóÇÔ∏è Organisation mit Evernote</h4>
                    <p>Separate Notizb√ºcher f√ºr jede Setup-Kategorie mit Master-Notizen und annotierten Charts.</p>
                </div>
                
                <div class="key-point">
                    <h4>üîç Nuancen erkennen</h4>
                    <p>Feine Unterschiede zwischen Setup-Qualit√§ten sind der Schl√ºssel zum langfristigen Erfolg.</p>
                </div>
                
                <div class="key-point">
                    <h4>üìö Lebendiges Dokument</h4>
                    <p>Dein Playbook entwickelt sich st√§ndig weiter durch neue Erkenntnisse und Backtesting.</p>
                </div>
            </div>
        </div>

        <!-- Trading-Playbook Quiz -->
        <div class="interactive-section" style="margin-top: 3rem;">
            <h2 class="interactive-title">üß† Trading-Playbook Grundlagen Quiz</h2>
            <p style="text-align: center; margin-bottom: 2rem; font-size: 1.1em;">
                Teste dein Verst√§ndnis der Trading-Playbook Konzepte
            </p>
            
            <div id="quiz-container">
                <div class="quiz-question" id="question-1">
                    <h4 style="color: #f4e97b; margin-bottom: 1rem;">Frage 1: Was ist das Hauptziel eines Trading-Playbooks?</h4>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="1" data-answer="wrong">
                            <input type="radio" name="q1" id="q1a" value="a">
                            <label for="q1a">Maximierung des t√§glichen P&L</label>
                        </div>
                        <div class="quiz-option" data-question="1" data-answer="correct">
                            <input type="radio" name="q1" id="q1b" value="b">
                            <label for="q1b">Systematische Dokumentation von Trading-Setups mit klaren Kriterien</label>
                        </div>
                        <div class="quiz-option" data-question="1" data-answer="wrong">
                            <input type="radio" name="q1" id="q1c" value="c">
                            <label for="q1c">Sammlung von Trading-Tipps und -Tricks</label>
                        </div>
                        <div class="quiz-option" data-question="1" data-answer="wrong">
                            <input type="radio" name="q1" id="q1d" value="d">
                            <label for="q1d">Liste aller profitablen Trades</label>
                        </div>
                    </div>
                </div>

                <div class="quiz-question" id="question-2" style="display: none;">
                    <h4 style="color: #f4e97b; margin-bottom: 1rem;">Frage 2: Wie sollte der Erfolg eines Trading-Tages gemessen werden?</h4>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="2" data-answer="wrong">
                            <input type="radio" name="q2" id="q2a" value="a">
                            <label for="q2a">Ausschlie√ülich am erzielten Gewinn</label>
                        </div>
                        <div class="quiz-option" data-question="2" data-answer="correct">
                            <input type="radio" name="q2" id="q2b" value="b">
                            <label for="q2b">An der Einhaltung des Systems und der Ausf√ºhrung der besten Setups</label>
                        </div>
                        <div class="quiz-option" data-question="2" data-answer="wrong">
                            <input type="radio" name="q2" id="q2c" value="c">
                            <label for="q2c">An der Anzahl der ausgef√ºhrten Trades</label>
                        </div>
                        <div class="quiz-option" data-question="2" data-answer="wrong">
                            <input type="radio" name="q2" id="q2d" value="d">
                            <label for="q2d">Am Vermeiden von Verlusten</label>
                        </div>
                    </div>
                </div>

                <div class="quiz-question" id="question-3" style="display: none;">
                    <h4 style="color: #f4e97b; margin-bottom: 1rem;">Frage 3: Was ist "exponentielles Bet Sizing" nach Lance's Methodik?</h4>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="3" data-answer="wrong">
                            <input type="radio" name="q3" id="q3a" value="a">
                            <label for="q3a">Bei jedem Trade die gleiche Positionsgr√∂√üe verwenden</label>
                        </div>
                        <div class="quiz-option" data-question="3" data-answer="correct">
                            <input type="radio" name="q3" id="q3b" value="b">
                            <label for="q3b">Bei A+ Setups mehr Kapital einsetzen als bei C-Setups</label>
                        </div>
                        <div class="quiz-option" data-question="3" data-answer="wrong">
                            <input type="radio" name="q3" id="q3c" value="c">
                            <label for="q3c">Exponentiell mehr Trades pro Tag ausf√ºhren</label>
                        </div>
                        <div class="quiz-option" data-question="3" data-answer="wrong">
                            <input type="radio" name="q3" id="q3d" value="d">
                            <label for="q3d">Nach Verlusten die Positionsgr√∂√üe erh√∂hen</label>
                        </div>
                    </div>
                </div>

                <div class="quiz-question" id="question-4" style="display: none;">
                    <h4 style="color: #f4e97b; margin-bottom: 1rem;">Frage 4: Welche Ranking-Kategorien verwendet Lance f√ºr Setup-Qualit√§t?</h4>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="4" data-answer="wrong">
                            <input type="radio" name="q4" id="q4a" value="a">
                            <label for="q4a">Gut, Mittel, Schlecht</label>
                        </div>
                        <div class="quiz-option" data-question="4" data-answer="wrong">
                            <input type="radio" name="q4" id="q4b" value="b">
                            <label for="q4b">1 bis 5 Sterne-System</label>
                        </div>
                        <div class="quiz-option" data-question="4" data-answer="correct">
                            <input type="radio" name="q4" id="q4c" value="c">
                            <label for="q4c">A+ (Herausragend) bis D (Schwach)</label>
                        </div>
                        <div class="quiz-option" data-question="4" data-answer="wrong">
                            <input type="radio" name="q4" id="q4d" value="d">
                            <label for="q4d">Hoch, Mittel, Niedrig</label>
                        </div>
                    </div>
                </div>

                <div class="quiz-question" id="question-5" style="display: none;">
                    <h4 style="color: #f4e97b; margin-bottom: 1rem;">Frage 5: Wer hat das Trading-Playbook-Konzept entwickelt und weiterentwickelt?</h4>
                    <div class="quiz-options">
                        <div class="quiz-option" data-question="5" data-answer="wrong">
                            <input type="radio" name="q5" id="q5a" value="a">
                            <label for="q5a">Warren Buffett und Charlie Munger</label>
                        </div>
                        <div class="quiz-option" data-question="5" data-answer="correct">
                            <input type="radio" name="q5" id="q5b" value="b">
                            <label for="q5b">Mike Bella Fiori (popul√§r gemacht) und Lance Breitstein (weiterentwickelt)</label>
                        </div>
                        <div class="quiz-option" data-question="5" data-answer="wrong">
                            <input type="radio" name="q5" id="q5c" value="c">
                            <label for="q5c">Jesse Livermore und Richard Wyckoff</label>
                        </div>
                        <div class="quiz-option" data-question="5" data-answer="wrong">
                            <input type="radio" name="q5" id="q5d" value="d">
                            <label for="q5d">William O'Neil und Mark Minervini</label>
                        </div>
                    </div>
                </div>

                <div id="quiz-results" style="display: none; text-align: center;">
                    <h3 style="color: #f4e97b; margin-bottom: 1rem;">üéâ Quiz abgeschlossen!</h3>
                    <div id="score-display" style="font-size: 1.5em; margin-bottom: 1rem;"></div>
                    <div id="feedback" style="margin-bottom: 2rem;"></div>
                    <button onclick="restartQuiz()" style="background: linear-gradient(45deg, #daa520, #f4e97b); color: #1a1a1a; border: none; padding: 12px 24px; border-radius: 25px; font-weight: 600; cursor: pointer;">Quiz wiederholen</button>
                </div>
            </div>

            <div class="quiz-controls" style="margin-top: 2rem; text-align: center;">
                <button id="prev-btn" onclick="previousQuestion()" style="background: rgba(255, 255, 255, 0.2); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 10px 20px; border-radius: 8px; margin: 0 10px; cursor: pointer; display: none;">‚Üê Zur√ºck</button>
                <button id="next-btn" onclick="nextQuestion()" style="background: linear-gradient(45deg, #daa520, #f4e97b); color: #1a1a1a; border: none; padding: 10px 20px; border-radius: 8px; margin: 0 10px; cursor: pointer; opacity: 0.5;" disabled>Weiter ‚Üí</button>
            </div>
        </div>

        <!-- Navigation wird bereits √ºber _navigation.html eingebunden -->

        <!-- Footer -->
        <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: white; border-radius: 15px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);">
            <h3 style="color: #1a1a1a; margin-bottom: 1rem;">üèÜ Elite - System III</h3>
            <p style="color: #666; margin-bottom: 0.5rem;"><em>üß† Metalearning & The Process</em></p>
            <p style="color: #666; font-size: 1.1em;"><strong>Didis Premium Trading Academy</strong></p>
            <p style="color: #666;">üìç Heidelberg | üìä 30+ Jahre B√∂rsenerfahrung | üìã Trading-Playbook Grundlagen</p>
        </div>
    </div>

    <script>
        // Interactive Checklist Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const checklistItems = document.querySelectorAll('.checklist-item');
            
            checklistItems.forEach(item => {
                const checkbox = item.querySelector('input[type="checkbox"]');
                
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        item.classList.add('completed');
                        // Save to localStorage
                        localStorage.setItem(this.id, 'checked');
                    } else {
                        item.classList.remove('completed');
                        localStorage.removeItem(this.id);
                    }
                    
                    updateProgress();
                });
                
                // Load saved state
                if (localStorage.getItem(checkbox.id) === 'checked') {
                    checkbox.checked = true;
                    item.classList.add('completed');
                }
                
                // Make entire item clickable
                item.addEventListener('click', function(e) {
                    if (e.target.type !== 'checkbox') {
                        checkbox.click();
                    }
                });
            });
            
            updateProgress();
        });
        
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.checklist-item input[type="checkbox"]');
            const checked = document.querySelectorAll('.checklist-item input[type="checkbox"]:checked');
            const progress = Math.round((checked.length / checkboxes.length) * 100);
            
            if (progress === 100) {
                // Show celebration
                setTimeout(() => {
                    alert('üéâ Gratulation! Du hast alle Schritte f√ºr dein Trading-Playbook abgeschlossen!');
                }, 500);
            }
        }
        
        // Auto-save textarea content
        document.querySelectorAll('textarea').forEach(textarea => {
            textarea.addEventListener('input', function() {
                localStorage.setItem('playbook_' + this.placeholder.substring(0, 20), this.value);
            });
            
            // Load saved content
            const savedContent = localStorage.getItem('playbook_' + textarea.placeholder.substring(0, 20));
            if (savedContent) {
                textarea.value = savedContent;
            }
        });

        // Quiz Functionality
        let currentQuestion = 1;
        let userAnswers = {};
        let quizStartTime = new Date();
        const totalQuestions = 5;

        function setupQuiz() {
            // Add event listeners to quiz options
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                    
                    // Remove selected class from siblings
                    this.parentNode.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class
                    this.classList.add('selected');
                    
                    // Store answer
                    const questionNum = this.dataset.question;
                    userAnswers[questionNum] = {
                        answer: radio.value,
                        correct: this.dataset.answer === 'correct'
                    };
                    
                    // Enable next button
                    document.getElementById('next-btn').disabled = false;
                    document.getElementById('next-btn').style.opacity = '1';
                });
            });
        }

        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                // Hide current question
                document.getElementById(`question-${currentQuestion}`).style.display = 'none';
                
                currentQuestion++;
                
                // Show next question
                document.getElementById(`question-${currentQuestion}`).style.display = 'block';
                
                // Update navigation
                updateNavigation();
            } else {
                // Show results
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                // Hide current question
                document.getElementById(`question-${currentQuestion}`).style.display = 'none';
                
                currentQuestion--;
                
                // Show previous question
                document.getElementById(`question-${currentQuestion}`).style.display = 'block';
                
                // Update navigation
                updateNavigation();
            }
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            // Show/hide previous button
            if (currentQuestion > 1) {
                prevBtn.style.display = 'inline-block';
            } else {
                prevBtn.style.display = 'none';
            }
            
            // Update next button text
            if (currentQuestion === totalQuestions) {
                nextBtn.textContent = 'Ergebnis anzeigen ‚Üí';
            } else {
                nextBtn.textContent = 'Weiter ‚Üí';
            }
            
            // Check if current question is answered
            if (userAnswers[currentQuestion]) {
                nextBtn.disabled = false;
                nextBtn.style.opacity = '1';
                
                // Re-select the chosen option
                const selectedOption = document.querySelector(`input[name="q${currentQuestion}"]:checked`);
                if (selectedOption) {
                    selectedOption.closest('.quiz-option').classList.add('selected');
                }
            } else {
                nextBtn.disabled = true;
                nextBtn.style.opacity = '0.5';
            }
        }

        function showResults() {
            // Hide all questions
            for (let i = 1; i <= totalQuestions; i++) {
                document.getElementById(`question-${i}`).style.display = 'none';
            }
            
            // Hide navigation
            document.querySelector('.quiz-controls').style.display = 'none';
            
            // Calculate score
            let correctAnswers = 0;
            for (let i = 1; i <= totalQuestions; i++) {
                if (userAnswers[i] && userAnswers[i].correct) {
                    correctAnswers++;
                }
            }
            
            const score = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Show results
            const resultsDiv = document.getElementById('quiz-results');
            const scoreDisplay = document.getElementById('score-display');
            const feedback = document.getElementById('feedback');
            
            scoreDisplay.innerHTML = `${correctAnswers}/${totalQuestions} richtig (${score}%)`;
            
            // Feedback based on score
            let feedbackText = '';
            let feedbackColor = '';
            
            if (score >= 80) {
                feedbackText = 'üèÜ Hervorragend! Du hast die Trading-Playbook Konzepte perfekt verstanden. Du bist bereit f√ºr die praktische Umsetzung!';
                feedbackColor = '#059669';
            } else if (score >= 60) {
                feedbackText = 'üëç Gut gemacht! Du verstehst die Grundlagen. Wiederhole die Masterclass f√ºr noch tieferes Verst√§ndnis.';
                feedbackColor = '#d69e2e';
            } else {
                feedbackText = 'üìö Empfehlung: Gehe die Masterclass noch einmal durch. Die Trading-Playbook Konzepte sind fundamental f√ºr deinen Erfolg.';
                feedbackColor = '#dc2626';
            }
            
            feedback.innerHTML = `<p style="color: ${feedbackColor}; font-size: 1.1em;">${feedbackText}</p>`;
            
            // Show detailed answers
            showDetailedAnswers();
            
            resultsDiv.style.display = 'block';
            
            // Save result to localStorage
            const quizData = {
                score: score,
                correctAnswers: correctAnswers,
                totalQuestions: totalQuestions,
                completedAt: new Date().toISOString(),
                timeSpent: Math.round((new Date() - quizStartTime) / 1000 / 60) // minutes
            };
            localStorage.setItem('playbook_quiz_result', JSON.stringify(quizData));
        }

        function showDetailedAnswers() {
            // Show correct/wrong answers for each question
            for (let i = 1; i <= totalQuestions; i++) {
                const questionDiv = document.getElementById(`question-${i}`);
                const options = questionDiv.querySelectorAll('.quiz-option');
                
                options.forEach(option => {
                    if (option.dataset.answer === 'correct') {
                        option.classList.add('correct');
                    } else if (userAnswers[i] && option.querySelector('input').value === userAnswers[i].answer && !userAnswers[i].correct) {
                        option.classList.add('wrong');
                    }
                });
                
                questionDiv.style.display = 'block';
            }
        }

        function restartQuiz() {
            // Reset quiz state
            currentQuestion = 1;
            userAnswers = {};
            quizStartTime = new Date();
            
            // Reset UI
            document.getElementById('quiz-results').style.display = 'none';
            document.querySelector('.quiz-controls').style.display = 'block';
            
            // Reset all questions
            for (let i = 1; i <= totalQuestions; i++) {
                const questionDiv = document.getElementById(`question-${i}`);
                questionDiv.style.display = i === 1 ? 'block' : 'none';
                
                // Reset options
                questionDiv.querySelectorAll('.quiz-option').forEach(option => {
                    option.classList.remove('selected', 'correct', 'wrong');
                    option.querySelector('input').checked = false;
                });
            }
            
            updateNavigation();
        }

        // Initialize quiz on page load
        document.addEventListener('DOMContentLoaded', function() {
            // ... existing code ...
            
            // Setup quiz after other initialization
            setTimeout(() => {
                setupQuiz();
                updateNavigation();
                
                // Load previous quiz result if exists
                const savedResult = localStorage.getItem('playbook_quiz_result');
                if (savedResult) {
                    const result = JSON.parse(savedResult);
                    console.log('Previous quiz result:', result);
                }
            }, 100);
        });
    </script>
{% endblock %}
