{% extends "base.html" %}

{% block title %}Registrierung - Didis Premium Trading Academy{% endblock %}

{% block header_title %}📝 Registrierung{% endblock %}
{% block header_subtitle %}Erstelle dein Konto für Zugriff auf Premium-Module{% endblock %}

{% block content %}
<div class="card">
    <h2>📝 Konto erstellen</h2>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ 'error' if category == 'error' else 'success' if category == 'success' else 'warning' }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <form action="{{ url_for('register') }}" method="post">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        
        <div class="form-group">
            <label for="username" class="form-label">👤 Benutzername</label>
            <input type="text" 
                   id="username" 
                   name="username" 
                   class="form-input"
                   placeholder="maxmustermann"
                   minlength="3"
                   maxlength="80"
                   required>
            <small class="form-help">Mindestens 3 Zeichen, nur Buchstaben, Zahlen, Unterstrich</small>
        </div>
        
        <div class="form-group">
            <label for="email" class="form-label">📧 E-Mail</label>
            <input type="email" 
                   id="email" 
                   name="email" 
                   class="form-input"
                   placeholder="max@example.com"
                   required>
            <small class="form-help">Deine E-Mail-Adresse für Login und Benachrichtigungen</small>
        </div>
        
        <div class="form-group">
            <label for="first_name" class="form-label">📛 Vorname</label>
            <input type="text" 
                   id="first_name" 
                   name="first_name" 
                   class="form-input"
                   placeholder="Max"
                   maxlength="50">
        </div>
        
        <div class="form-group">
            <label for="last_name" class="form-label">📛 Nachname</label>
            <input type="text" 
                   id="last_name" 
                   name="last_name" 
                   class="form-input"
                   placeholder="Mustermann"
                   maxlength="50">
        </div>
        
        <div class="form-group">
            <label for="password" class="form-label">🔒 Passwort</label>
            <input type="password" 
                   id="password" 
                   name="password" 
                   class="form-input"
                   placeholder="Mindestens 8 Zeichen"
                   minlength="8"
                   required>
            <small class="form-help">Mindestens 8 Zeichen für optimale Sicherheit</small>
        </div>
        
        <div class="form-group">
            <label for="password_confirm" class="form-label">🔒 Passwort bestätigen</label>
            <input type="password" 
                   id="password_confirm" 
                   name="password_confirm" 
                   class="form-input"
                   placeholder="Passwort wiederholen"
                   minlength="8"
                   required>
        </div>
        
        <div class="form-group">
            <label style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" name="terms_accepted" required>
                <span>Ich akzeptiere die <a href="https://didis-charts.com/datenschutz/" target="_blank">Datenschutzerklärung</a> und <a href="https://didis-charts.com/agb/" target="_blank">AGB</a></span>
            </label>
        </div>
        
        <div class="form-group">
            <button type="submit" class="btn" style="width: 100%;">🚀 Konto erstellen</button>
        </div>
    </form>
    
    <div style="text-align: center; margin: 30px 0;">
        <p>Bereits ein Konto? <a href="{{ url_for('login') }}">Jetzt anmelden</a></p>
    </div>
</div>

<div class="card" style="background: linear-gradient(135deg, var(--gold-light), var(--gold-classic)); color: var(--primary-dark);">
    <h2>🎯 Was du mit deinem Account erhältst</h2>
    <div class="grid-2" style="margin: 20px 0;">
        <div>
            <h4>🎁 Kostenlose Module</h4>
            <p>Zugriff auf alle Lead-Magnet Module ohne Subscription</p>
        </div>
        
        <div>
            <h4>📊 Fortschritts-Tracking</h4>
            <p>Verfolge deinen Lernfortschritt und Erfolge</p>
        </div>
        
        <div>
            <h4>💎 Premium-Option</h4>
            <p>Upgrade jederzeit für Zugriff auf 40+ Premium-Module</p>
        </div>
        
        <div>
            <h4>📧 Exklusive Updates</h4>
            <p>Erhalte Benachrichtigungen über neue Inhalte</p>
        </div>
    </div>
</div>

<style>
.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--primary-dark);
}

.form-input {
    width: 100%;
    padding: 12px;
    border: 2px solid #e5e7eb;
    border-radius: 6px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.form-input:focus {
    outline: none;
    border-color: var(--gold-classic);
    box-shadow: 0 0 0 3px rgba(218, 165, 32, 0.1);
}

.form-help {
    display: block;
    margin-top: 5px;
    font-size: 0.85rem;
    color: #666;
}

.alert {
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 20px;
}

.alert-success {
    background: #d1fae5;
    color: #065f46;
    border-left: 4px solid #059669;
}

.alert-error {
    background: #fee2e2;
    color: #991b1b;
    border-left: 4px solid #dc2626;
}

.alert-warning {
    background: #fef3c7;
    color: #92400e;
    border-left: 4px solid #f59e0b;
}
</style>
{% endblock %}
