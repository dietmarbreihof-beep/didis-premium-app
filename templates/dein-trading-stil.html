{% extends "base.html" %}

{% block title %}Dein Trading-Stil - Die wichtigste Entscheidung{% endblock %}

{% block content %}
<div class="trading-stil-wrapper">
<style>
    .trading-stil-wrapper {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: #f7f7f7;
        min-height: 100vh;
        padding-bottom: 60px;
    }

    .trading-stil-wrapper * {
        box-sizing: border-box;
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 70%, #b8860b 100%);
        color: white;
        padding: 80px 20px;
        text-align: center;
        margin-bottom: 40px;
        position: relative;
        overflow: hidden;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23daa520' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        opacity: 0.5;
    }

    .hero-content {
        position: relative;
        z-index: 1;
    }

    .hero-section h1 {
        font-size: 3em;
        margin: 0 0 20px 0;
        font-weight: 800;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .hero-section .subtitle {
        font-size: 1.4em;
        margin-bottom: 30px;
        opacity: 0.95;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
    }

    .hero-badge {
        display: inline-block;
        background: linear-gradient(135deg, #daa520 0%, #b8860b 100%);
        padding: 8px 20px;
        border-radius: 25px;
        font-weight: 700;
        font-size: 0.9em;
        margin-bottom: 20px;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        max-width: 900px;
        margin: 40px auto 0;
    }

    .stat-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 25px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    .stat-number {
        font-size: 2.2em;
        font-weight: 800;
        color: #f4e97b;
        margin: 0;
    }

    .stat-label {
        font-size: 0.9em;
        margin-top: 5px;
        opacity: 0.9;
    }

    /* Progress Tracker */
    .progress-tracker {
        background: white;
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .progress-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }

    .progress-header h3 {
        margin: 0;
        color: #1a1a1a;
        font-size: 1.3em;
    }

    .progress-percentage {
        font-size: 1.5em;
        font-weight: 800;
        color: #daa520;
    }

    .progress-bar-container {
        background: #e0e0e0;
        border-radius: 10px;
        height: 12px;
        overflow: hidden;
    }

    .progress-bar-fill {
        background: linear-gradient(90deg, #b8860b, #daa520, #f4e97b);
        height: 100%;
        border-radius: 10px;
        transition: width 0.5s ease;
        width: 0%;
    }

    /* Content Container */
    .content-container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Section Cards */
    .section-card {
        background: white;
        border-radius: 12px;
        padding: 40px;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        border-left: 4px solid #daa520;
        transition: all 0.3s ease;
    }

    .section-card.locked {
        opacity: 0.5;
        pointer-events: none;
        position: relative;
        filter: blur(2px);
    }

    .section-card.locked::after {
        content: 'üîí Vorherigen Abschnitt abschlie√üen';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(26, 26, 26, 0.95);
        color: white;
        padding: 15px 30px;
        border-radius: 8px;
        font-weight: 700;
        font-size: 1.1em;
        filter: none;
        z-index: 10;
    }

    .section-card.completed {
        border-left-color: #38a169;
    }

    .section-card.completed::before {
        content: '‚úÖ Abgeschlossen';
        position: absolute;
        top: 15px;
        right: 15px;
        background: #38a169;
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.85em;
        font-weight: 600;
    }

    .section-card {
        position: relative;
    }

    .section-card h2 {
        color: #1a1a1a;
        font-size: 1.8em;
        margin: 0 0 20px 0;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .section-number {
        background: linear-gradient(135deg, #daa520 0%, #b8860b 100%);
        color: white;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2em;
        font-weight: 800;
        flex-shrink: 0;
    }

    .section-card h3 {
        color: #2d2d2d;
        font-size: 1.4em;
        margin: 30px 0 15px 0;
        border-bottom: 2px solid #daa520;
        padding-bottom: 10px;
    }

    .section-card p {
        color: #444;
        line-height: 1.8;
        font-size: 1.05em;
        margin-bottom: 15px;
    }

    .section-card ul, .section-card ol {
        color: #444;
        line-height: 1.8;
        margin: 15px 0;
        padding-left: 25px;
    }

    .section-card li {
        margin-bottom: 10px;
    }

    /* Highlight Boxes */
    .highlight-box {
        background: linear-gradient(135deg, rgba(244, 233, 123, 0.3) 0%, rgba(218, 165, 32, 0.2) 100%);
        border-left: 4px solid #b8860b;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    .highlight-box strong {
        font-size: 1.15em;
        display: block;
        margin-bottom: 10px;
        color: #1a1a1a;
    }

    .warning-box {
        background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        border-left: 4px solid #d69e2e;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    .warning-box strong {
        color: #92400e;
    }

    .insight-box {
        background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
        border-left: 4px solid #38a169;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    .insight-box strong {
        color: #2f6846;
    }

    .danger-box {
        background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
        border-left: 4px solid #e53e3e;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    .danger-box strong {
        color: #c53030;
    }

    /* Quote Box */
    .quote-box {
        background: #1a1a1a;
        color: white;
        border-radius: 12px;
        padding: 30px;
        margin: 30px 0;
        position: relative;
    }

    .quote-box::before {
        content: '"';
        font-size: 4em;
        color: #daa520;
        position: absolute;
        top: 10px;
        left: 20px;
        opacity: 0.5;
    }

    .quote-box p {
        color: white;
        font-size: 1.2em;
        font-style: italic;
        padding-left: 40px;
        margin: 0;
    }

    .quote-author {
        text-align: right;
        margin-top: 15px;
        color: #daa520;
        font-weight: 600;
    }

    /* Style Cards Grid */
    .style-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin: 30px 0;
    }

    .style-card {
        background: white;
        border-radius: 16px;
        padding: 30px;
        border: 3px solid #e0e0e0;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .style-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(90deg, var(--card-color, #daa520), var(--card-color-light, #f4e97b));
    }

    .style-card:hover {
        border-color: #daa520;
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.15);
    }

    .style-card.selected {
        border-color: #daa520;
        background: linear-gradient(135deg, #fffef5 0%, #fff9e6 100%);
    }

    .style-card .icon {
        font-size: 3em;
        margin-bottom: 15px;
    }

    .style-card h4 {
        color: #1a1a1a;
        margin: 0 0 15px 0;
        font-size: 1.4em;
    }

    .style-card p {
        margin: 0 0 15px 0;
        font-size: 0.95em;
        color: #666;
    }

    .style-card .stats {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px solid #e0e0e0;
    }

    .style-card .stat {
        text-align: center;
    }

    .style-card .stat-value {
        font-size: 1.3em;
        font-weight: 800;
        color: #daa520;
    }

    .style-card .stat-label {
        font-size: 0.75em;
        color: #888;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* Day Trading Card */
    .style-card.day-trading {
        --card-color: #e53e3e;
        --card-color-light: #fc8181;
    }

    /* Swing Trading Card */
    .style-card.swing-trading {
        --card-color: #daa520;
        --card-color-light: #f4e97b;
    }

    /* Position Trading Card */
    .style-card.position-trading {
        --card-color: #38a169;
        --card-color-light: #68d391;
    }

    /* Factor Cards */
    .factor-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        margin: 25px 0;
    }

    .factor-card {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 25px;
        text-align: center;
        transition: all 0.3s ease;
    }

    .factor-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    .factor-card .icon {
        font-size: 2.5em;
        margin-bottom: 15px;
    }

    .factor-card h4 {
        color: #1a1a1a;
        margin: 0 0 10px 0;
        font-size: 1.1em;
    }

    .factor-card p {
        margin: 0;
        font-size: 0.9em;
        color: #666;
    }

    /* Comparison Table */
    .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.95em;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .comparison-table th {
        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        color: white;
        padding: 15px;
        text-align: left;
        font-weight: 600;
    }

    .comparison-table td {
        padding: 15px;
        border-bottom: 1px solid #e0e0e0;
        background: white;
    }

    .comparison-table tr:last-child td {
        border-bottom: none;
    }

    .comparison-table tr:hover td {
        background: #f8f9fa;
    }

    .comparison-table .highlight-cell {
        background: linear-gradient(135deg, #fffef5 0%, #fff9e6 100%);
        font-weight: 600;
        color: #b8860b;
    }

    /* Quiz Styles */
    .quiz-container {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 12px;
        padding: 30px;
        margin: 30px 0;
        border: 2px solid #daa520;
    }

    .quiz-container h4 {
        color: #1a1a1a;
        margin: 0 0 20px 0;
        font-size: 1.3em;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .quiz-question {
        font-size: 1.1em;
        color: #2d2d2d;
        margin-bottom: 20px;
        font-weight: 500;
    }

    .quiz-options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .quiz-option {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 15px 20px;
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .quiz-option:hover {
        border-color: #daa520;
        background: #fffef5;
    }

    .quiz-option.selected {
        border-color: #daa520;
        background: #fffef5;
    }

    .quiz-option.correct {
        border-color: #38a169;
        background: #e8f5e9;
    }

    .quiz-option.incorrect {
        border-color: #e53e3e;
        background: #ffebee;
    }

    .quiz-option input[type="radio"] {
        display: none;
    }

    .quiz-radio {
        width: 22px;
        height: 22px;
        border: 2px solid #ccc;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        transition: all 0.3s ease;
    }

    .quiz-option.selected .quiz-radio {
        border-color: #daa520;
        background: #daa520;
    }

    .quiz-option.selected .quiz-radio::after {
        content: '';
        width: 10px;
        height: 10px;
        background: white;
        border-radius: 50%;
    }

    .quiz-feedback {
        margin-top: 20px;
        padding: 15px 20px;
        border-radius: 8px;
        display: none;
    }

    .quiz-feedback.show {
        display: block;
    }

    .quiz-feedback.correct {
        background: #e8f5e9;
        color: #2f6846;
        border: 1px solid #38a169;
    }

    .quiz-feedback.incorrect {
        background: #ffebee;
        color: #c53030;
        border: 1px solid #e53e3e;
    }

    /* Continue Button */
    .continue-btn {
        background: linear-gradient(135deg, #daa520 0%, #b8860b 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.1em;
        font-weight: 700;
        border-radius: 8px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s ease;
        margin-top: 20px;
    }

    .continue-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(184, 134, 11, 0.4);
    }

    .continue-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
    }

    /* Reflection Box */
    .reflection-box {
        background: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
        border-radius: 12px;
        padding: 30px;
        margin: 25px 0;
        border: 2px dashed #6366f1;
    }

    .reflection-box h4 {
        color: #4338ca;
        margin: 0 0 15px 0;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .reflection-box textarea {
        width: 100%;
        min-height: 100px;
        padding: 15px;
        border: 2px solid #c7d2fe;
        border-radius: 8px;
        font-family: inherit;
        font-size: 1em;
        resize: vertical;
        margin-top: 10px;
    }

    .reflection-box textarea:focus {
        outline: none;
        border-color: #6366f1;
    }

    /* Summary Box */
    .summary-box {
        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        color: white;
        border-radius: 12px;
        padding: 35px;
        margin: 30px 0;
    }

    .summary-box h3 {
        color: #daa520;
        border-bottom-color: #daa520;
        margin-top: 0;
    }

    .summary-box ul {
        color: white;
    }

    .summary-box li {
        position: relative;
        padding-left: 25px;
    }

    .summary-box li::before {
        content: '‚úì';
        position: absolute;
        left: 0;
        color: #f4e97b;
        font-weight: bold;
    }

    /* Final Section */
    .final-section {
        background: linear-gradient(135deg, #daa520 0%, #b8860b 100%);
        color: white;
        border-radius: 12px;
        padding: 50px;
        text-align: center;
        margin-top: 40px;
    }

    .final-section h2 {
        color: white;
        justify-content: center;
        font-size: 2em;
    }

    .final-section p {
        color: white;
        font-size: 1.2em;
        max-width: 700px;
        margin: 20px auto;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .hero-section {
            padding: 50px 20px;
        }

        .hero-section h1 {
            font-size: 2em;
        }

        .section-card {
            padding: 25px;
        }

        .section-card h2 {
            font-size: 1.4em;
            flex-direction: column;
            text-align: center;
        }

        .stats-grid {
            grid-template-columns: 1fr 1fr;
        }

        .style-grid {
            grid-template-columns: 1fr;
        }

        .quote-box p {
            font-size: 1em;
            padding-left: 20px;
        }

        .comparison-table {
            font-size: 0.85em;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 10px 8px;
        }
    }
</style>

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <span class="hero-badge">üìö PREMIUM LERNMODUL</span>
        <h1>üéØ Dein Trading-Stil</h1>
        <p class="subtitle">Die wichtigste Entscheidung, die du als Trader treffen wirst ‚Äì und wie du sie richtig triffst.</p>
        
        <div class="stats-grid">
            <div class="stat-card">
                <p class="stat-number">3</p>
                <p class="stat-label">Trading-Stile</p>
            </div>
            <div class="stat-card">
                <p class="stat-number">4</p>
                <p class="stat-label">Entscheidungsfaktoren</p>
            </div>
            <div class="stat-card">
                <p class="stat-number">2-3</p>
                <p class="stat-label">Jahre gespart bei richtiger Wahl</p>
            </div>
            <div class="stat-card">
                <p class="stat-number">6</p>
                <p class="stat-label">Lernabschnitte</p>
            </div>
        </div>
    </div>
</section>

<div class="content-container">
    <!-- Progress Tracker -->
    <div class="progress-tracker">
        <div class="progress-header">
            <h3>üìä Dein Lernfortschritt</h3>
            <span class="progress-percentage" id="progressText">0%</span>
        </div>
        <div class="progress-bar-container">
            <div class="progress-bar-fill" id="progressBar"></div>
        </div>
    </div>

    <!-- Section 1: Die fundamentale Entscheidung -->
    <div class="section-card" id="section1" data-section="1">
        <h2><span class="section-number">1</span> Die fundamentale Entscheidung</h2>
        
        <div class="highlight-box">
            <strong>üéØ Die Entscheidung, die ALLES bestimmt</strong>
            <p>Welchen Trading-Stil du w√§hlst, bestimmt <em>alles</em>: Deine Tools, deinen Broker, deine Gewinne, dein ben√∂tigtes Kapital, deine Lebensqualit√§t.</p>
        </div>

        <p>Die meisten Trader scheitern nicht wegen mangelndem Talent oder schlechter Strategie. Sie scheitern, weil sie nie eine klare Entscheidung √ºber ihren Trading-Stil getroffen haben.</p>

        <p><strong>Was passiert ohne diese Entscheidung?</strong></p>
        <ul>
            <li>Du versuchst jeden Tag etwas Neues</li>
            <li>Du springst zwischen Day-Trading und Swing-Trading hin und her</li>
            <li>Du verschwendest 2-3 Jahre ohne Fortschritt</li>
            <li>Du entwickelst keine Expertise in IRGENDEINEM Bereich</li>
        </ul>

        <div class="quote-box">
            <p>Wenn du dich entscheidest wie ein √Ñgypter zu gehen, √∂ffnet sich eine ganze Welt f√ºr dich. Du entscheidest dich f√ºr Day-Trading? Die Welt der M√∂glichkeiten √∂ffnet sich. Swing-Trading? Eine v√∂llig andere Organisationsweise. Aber du musst ENTSCHEIDEN.</p>
            <div class="quote-author">‚Äî Pradeep Bonde (StockBee)</div>
        </div>

        <div class="danger-box">
            <strong>‚ùå Das gr√∂√üte Problem</strong>
            <p>Die schlimmste Situation: Du versuchst alle drei Stile gleichzeitig. Das Ergebnis? Du wirst in keine Richtung gezogen und entwickelst nie echte Expertise. Nach 2-3 Jahren stellst du fest: "Ich habe in nichts Expertise aufgebaut."</p>
        </div>

        <!-- Quiz 1 -->
        <div class="quiz-container" id="quiz1">
            <h4>üß† Wissenscheck</h4>
            <p class="quiz-question">Warum scheitern die meisten Trader laut diesem Modul?</p>
            <div class="quiz-options">
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz1" value="a">
                    <span class="quiz-radio"></span>
                    <span>Weil sie die falsche Strategie verwenden</span>
                </label>
                <label class="quiz-option" data-correct="true">
                    <input type="radio" name="quiz1" value="b">
                    <span class="quiz-radio"></span>
                    <span>Weil sie nie eine klare Entscheidung √ºber ihren Trading-Stil treffen</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz1" value="c">
                    <span class="quiz-radio"></span>
                    <span>Weil sie nicht genug Kapital haben</span>
                </label>
            </div>
            <div class="quiz-feedback" id="feedback1"></div>
        </div>

        <button class="continue-btn" id="continue1" onclick="completeSection(1)" disabled>
            Weiter zu Abschnitt 2 ‚û°Ô∏è
        </button>
    </div>

    <!-- Section 2: Die drei Trading-Stile -->
    <div class="section-card locked" id="section2" data-section="2">
        <h2><span class="section-number">2</span> Die drei Trading-Stile</h2>
        
        <p>Es gibt drei grundlegende Wege, an den M√§rkten zu handeln. Jeder hat seine eigenen Vor- und Nachteile:</p>

        <div class="style-grid">
            <div class="style-card day-trading" onclick="selectStyle(this, 'day')">
                <div class="icon">‚ö°</div>
                <h4>Day-Trading</h4>
                <p>Positionen werden innerhalb eines Tages er√∂ffnet und geschlossen. H√∂chste Frequenz, h√∂chster Zeitaufwand.</p>
                <div class="stats">
                    <div class="stat">
                        <div class="stat-value">30K+</div>
                        <div class="stat-label">Min. Kapital (USA)</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">8h/Tag</div>
                        <div class="stat-label">Zeitaufwand</div>
                    </div>
                </div>
            </div>

            <div class="style-card swing-trading" onclick="selectStyle(this, 'swing')">
                <div class="icon">üìä</div>
                <h4>Swing-Trading</h4>
                <p>Positionen werden 3-5 Tage bis Wochen gehalten. Ziel: 8-20% Moves. Guter Kompromiss zwischen Rendite und Zeit.</p>
                <div class="stats">
                    <div class="stat">
                        <div class="stat-value">8-20%</div>
                        <div class="stat-label">Profit-Ziel</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">3-5 Tage</div>
                        <div class="stat-label">Haltedauer</div>
                    </div>
                </div>
            </div>

            <div class="style-card position-trading" onclick="selectStyle(this, 'position')">
                <div class="icon">üìà</div>
                <h4>Position-Trading</h4>
                <p>Positionen werden Wochen bis Jahre gehalten. Weniger Stress, aber erfordert andere F√§higkeiten.</p>
                <div class="stats">
                    <div class="stat">
                        <div class="stat-value">30-40%</div>
                        <div class="stat-label">M√∂gliche Drawdowns</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">Monate</div>
                        <div class="stat-label">Haltedauer</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="insight-box">
            <strong>‚úÖ Wichtige Erkenntnis</strong>
            <p><strong>Kann man mit jedem Stil Geld verdienen?</strong> JA! Es gibt erfolgreiche Day-Trader, erfolgreiche Swing-Trader und erfolgreiche Position-Trader. Aber nicht jeder ist f√ºr jeden Stil geeignet.</p>
        </div>

        <h3>Was Pradeep selbst macht</h3>
        <p>Pradeep Bonde (StockBee) ist klar in seinem Stil:</p>
        <ul>
            <li><strong>Ziel:</strong> 8-20% Moves</li>
            <li><strong>Haltedauer:</strong> 3-5 Tage</li>
            <li><strong>Profit pro Trade:</strong> $5-50</li>
            <li><strong>Stil:</strong> Swing-Trading</li>
        </ul>

        <div class="quote-box">
            <p>Sobald du dich entschieden hast, werden die Dinge so einfach. Ich brauche mich nur auf meinen Stil zu konzentrieren. Ich atme es, ich fokussiere mich nur darauf. Dann wird es extrem einfach, Expertise zu entwickeln.</p>
            <div class="quote-author">‚Äî Pradeep Bonde</div>
        </div>

        <!-- Quiz 2 -->
        <div class="quiz-container" id="quiz2">
            <h4>üß† Wissenscheck</h4>
            <p class="quiz-question">Welcher Trading-Stil hat die k√ºrzeste typische Haltedauer?</p>
            <div class="quiz-options">
                <label class="quiz-option" data-correct="true">
                    <input type="radio" name="quiz2" value="a">
                    <span class="quiz-radio"></span>
                    <span>Day-Trading (Stunden)</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz2" value="b">
                    <span class="quiz-radio"></span>
                    <span>Swing-Trading (Tage bis Wochen)</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz2" value="c">
                    <span class="quiz-radio"></span>
                    <span>Position-Trading (Monate bis Jahre)</span>
                </label>
            </div>
            <div class="quiz-feedback" id="feedback2"></div>
        </div>

        <button class="continue-btn" id="continue2" onclick="completeSection(2)" disabled>
            Weiter zu Abschnitt 3 ‚û°Ô∏è
        </button>
    </div>

    <!-- Section 3: Die vier Entscheidungsfaktoren -->
    <div class="section-card locked" id="section3" data-section="3">
        <h2><span class="section-number">3</span> Die vier Entscheidungsfaktoren</h2>
        
        <p>Was sollte deine Stil-Entscheidung bestimmen? <strong>Nicht was ein Guru dir sagt!</strong> Sondern diese vier Faktoren:</p>

        <div class="factor-grid">
            <div class="factor-card">
                <div class="icon">üß†</div>
                <h4>1. Pers√∂nlichkeit</h4>
                <p>Bist du analytisch? Kannst du 3-5 Jahre vorausdenken? Oder bist du eher ein Action-Typ?</p>
            </div>
            <div class="factor-card">
                <div class="icon">‚è∞</div>
                <h4>2. Lifestyle</h4>
                <p>Kannst du den ganzen Tag vor dem Bildschirm sitzen? Oder hast du einen Vollzeit-Job?</p>
            </div>
            <div class="factor-card">
                <div class="icon">üéÇ</div>
                <h4>3. Alter</h4>
                <p>Mit 60 Day-Trading anfangen? Realistische Energie f√ºr 4-5 Bildschirme? Mit 20 und nichts zu verlieren?</p>
            </div>
            <div class="factor-card">
                <div class="icon">üí∞</div>
                <h4>4. Kapital</h4>
                <p>Mit $10K Day-Trading? Unm√∂glich in den USA (PDT-Regel). Mit $25M aktiv traden? Auch schwierig!</p>
            </div>
        </div>

        <h3>Beispiele aus der Praxis</h3>

        <div class="warning-box">
            <strong>‚ö†Ô∏è Lifestyle-Beschr√§nkungen</strong>
            <p>Du bist <strong>Chirurg</strong> und gehst f√ºr 8-9 Stunden in OPs, ohne auf den Markt schauen zu k√∂nnen? Dann ist Day-Trading oder aktives Swing-Trading <strong>keine Option</strong>. Die Antwort ist NEIN ‚Äì willst du das h√∂ren? Wahrscheinlich nicht, aber es ist die Realit√§t.</p>
        </div>

        <div class="insight-box">
            <strong>üí° Kapital als Constraint</strong>
            <p>Je mehr Kapital du hast, desto <strong>eingeschr√§nkter</strong> wirst du. Mit $25 Millionen kannst du nicht einfach in Breakouts einsteigen ‚Äì dein Kauf allein w√ºrde den Markt bewegen! Christian Koller (Maggie) wird dieses Problem haben, je gr√∂√üer sein Konto wird.</p>
        </div>

        <h3>Die Investment Champions & der Trick</h3>
        <p>Bei Trading-Wettbewerben wie dem Investment Champions nutzen die Gewinner einen Trick:</p>
        <ul>
            <li>Sie starten mit $100K und machen $200K</li>
            <li>Dann nehmen sie $100K raus und traden wieder mit $100K</li>
            <li>Warum? Weil es <strong>einfacher ist, mit kleinerem Kapital gr√∂√üere Returns zu machen</strong></li>
            <li>Das ist kein Cheating ‚Äì es ist die Realit√§t des Kapital-Managements</li>
        </ul>

        <!-- Quiz 3 -->
        <div class="quiz-container" id="quiz3">
            <h4>üß† Wissenscheck</h4>
            <p class="quiz-question">Welcher der folgenden Faktoren sollte NICHT die Wahl deines Trading-Stils bestimmen?</p>
            <div class="quiz-options">
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz3" value="a">
                    <span class="quiz-radio"></span>
                    <span>Deine Pers√∂nlichkeit und dein Temperament</span>
                </label>
                <label class="quiz-option" data-correct="true">
                    <input type="radio" name="quiz3" value="b">
                    <span class="quiz-radio"></span>
                    <span>Was ein Trading-Guru empfiehlt</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz3" value="c">
                    <span class="quiz-radio"></span>
                    <span>Dein verf√ºgbares Kapital</span>
                </label>
            </div>
            <div class="quiz-feedback" id="feedback3"></div>
        </div>

        <button class="continue-btn" id="continue3" onclick="completeSection(3)" disabled>
            Weiter zu Abschnitt 4 ‚û°Ô∏è
        </button>
    </div>

    <!-- Section 4: Konsequenzen jedes Stils -->
    <div class="section-card locked" id="section4" data-section="4">
        <h2><span class="section-number">4</span> Die Konsequenzen jedes Stils</h2>
        
        <p>Jeder Trading-Stil hat seine eigenen Konsequenzen. Verstehe diese, <strong>bevor</strong> du dich entscheidest:</p>

        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Aspekt</th>
                    <th>Day-Trading</th>
                    <th>Swing-Trading</th>
                    <th>Position-Trading</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Drawdowns</strong></td>
                    <td class="highlight-cell">Sehr niedrig</td>
                    <td>Niedrig bis Mittel</td>
                    <td>30-40% normal</td>
                </tr>
                <tr>
                    <td><strong>Konsistenz</strong></td>
                    <td class="highlight-cell">T√§glich profitabel m√∂glich</td>
                    <td>W√∂chentlich profitabel</td>
                    <td>Chunky Returns (gro√üe Schwankungen)</td>
                </tr>
                <tr>
                    <td><strong>Equity-Kurve</strong></td>
                    <td class="highlight-cell">Glatt</td>
                    <td>Relativ glatt</td>
                    <td>Sehr unregelm√§√üig</td>
                </tr>
                <tr>
                    <td><strong>Volatilit√§tsrisiko</strong></td>
                    <td class="highlight-cell">Vermeidung</td>
                    <td>Teilweise Vermeidung</td>
                    <td>Hohes Risiko akzeptiert</td>
                </tr>
                <tr>
                    <td><strong>Zeitaufwand</strong></td>
                    <td>Vollzeit (8h+)</td>
                    <td>Teilzeit m√∂glich (2-4h)</td>
                    <td class="highlight-cell">Minimal (Analyse)</td>
                </tr>
                <tr>
                    <td><strong>Lernkurve</strong></td>
                    <td class="highlight-cell">Schnell (viele Trades)</td>
                    <td>Mittel</td>
                    <td>Sehr lang (2-3 Jahre)</td>
                </tr>
            </tbody>
        </table>

        <div class="highlight-box">
            <strong>üéØ Volatilit√§tsrisiko verstehen</strong>
            <p>Day-Trader und Swing-Trader machen im Wesentlichen <strong>Volatilit√§tsvermeidung</strong>. Position-Trader m√ºssen bereit sein, 30-40% Drawdowns zu akzeptieren. Bist du bereit, zu sehen, wie dein Portfolio um 40% f√§llt?</p>
        </div>

        <h3>Das Problem mit Position-Trading</h3>
        <p>Position-Trader suchen nach "Fixed Stars" ‚Äì Aktien, die √ºber Jahre steigen:</p>
        <ul>
            <li>F√ºr jeden <strong>Fixed Star</strong> (Amazon, Apple) gibt es <strong>tausende Meteore</strong></li>
            <li>Selbst die besten Position-Trader k√ºssen viele Fr√∂sche, die sich als Kr√∂ten entpuppen</li>
            <li>Beispiel: Viele waren bullish auf Teladoc (TDOC) ‚Äì 57% Drawdown!</li>
            <li>Beispiel: Under Armour ‚Äì ein Mitglied war super bullish, Aktie fiel 70%</li>
        </ul>

        <div class="danger-box">
            <strong>‚ùå Die versteckte Gefahr</strong>
            <p>Wegen der vielen "Kr√∂ten" m√ºssen Position-Trader <strong>diversifizieren</strong>. Und sobald du diversifizierst, sinken deine Returns. Das erz√§hlt dir kein Guru!</p>
        </div>

        <div class="quote-box">
            <p>Ich spreche mit vielen Position-Tradern. Sie haben chunky Returns ‚Äì ein Jahr machen sie 800%, dann Jahre mit nur 10-20%. Die Netto-Returns sind vielleicht gleich wie meine, aber die Volatilit√§t ist enorm.</p>
            <div class="quote-author">‚Äî Pradeep Bonde</div>
        </div>

        <!-- Quiz 4 -->
        <div class="quiz-container" id="quiz4">
            <h4>üß† Wissenscheck</h4>
            <p class="quiz-question">Welcher Trading-Stil hat typischerweise die "glatteste" Equity-Kurve?</p>
            <div class="quiz-options">
                <label class="quiz-option" data-correct="true">
                    <input type="radio" name="quiz4" value="a">
                    <span class="quiz-radio"></span>
                    <span>Day-Trading (viele kleine Gewinne t√§glich)</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz4" value="b">
                    <span class="quiz-radio"></span>
                    <span>Position-Trading (lange Haltezeiten)</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz4" value="c">
                    <span class="quiz-radio"></span>
                    <span>Alle Stile haben √§hnliche Equity-Kurven</span>
                </label>
            </div>
            <div class="quiz-feedback" id="feedback4"></div>
        </div>

        <button class="continue-btn" id="continue4" onclick="completeSection(4)" disabled>
            Weiter zu Abschnitt 5 ‚û°Ô∏è
        </button>
    </div>

    <!-- Section 5: Position Sizing & Work Requirement -->
    <div class="section-card locked" id="section5" data-section="5">
        <h2><span class="section-number">5</span> Position Sizing & Arbeitsaufwand</h2>
        
        <p>Ein oft √ºbersehener Aspekt: <strong>Dein Trading-Stil bestimmt dein Position Sizing ‚Äì und damit deine Returns.</strong></p>

        <h3>Das Position-Sizing-Paradox</h3>
        
        <div class="highlight-box">
            <strong>üí° Was Pradeep wirklich macht</strong>
            <p>Pradeep macht Swing-Trading mit 8-20% Moves in 3-5 Tagen. Aber hier ist der Unterschied: Er geht mit <strong>50-150% seines Kapitals</strong> in einzelne Trades! Warum? Weil er das Risiko nur f√ºr wenige Stunden/Tage tr√§gt und dann schnell wieder raus ist.</p>
        </div>

        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Haltedauer</th>
                    <th>Position Size</th>
                    <th>Volatilit√§tsrisiko</th>
                    <th>Potentielle Returns</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Stunden (Day)</td>
                    <td class="highlight-cell">50-150%</td>
                    <td>Minimal</td>
                    <td class="highlight-cell">Hoch (compound)</td>
                </tr>
                <tr>
                    <td>3-5 Tage (Swing)</td>
                    <td>30-100%</td>
                    <td>Niedrig-Mittel</td>
                    <td>Hoch</td>
                </tr>
                <tr>
                    <td>Wochen (Swing+)</td>
                    <td>10-30%</td>
                    <td>Mittel</td>
                    <td>Mittel</td>
                </tr>
                <tr>
                    <td>Monate (Position)</td>
                    <td>5-15%</td>
                    <td>Hoch</td>
                    <td>Abh√§ngig von Auswahl</td>
                </tr>
            </tbody>
        </table>

        <div class="warning-box">
            <strong>‚ö†Ô∏è Die Mathematik</strong>
            <p>Wenn du 3-4 Wochen h√§lst, <strong>musst</strong> du deine Position Size reduzieren. Warum? Um das erh√∂hte Volatilit√§tsrisiko zu managen. Aber wenn du die Size reduzierst, reduzierst du auch deine Returns. Das ist der Trade-off!</p>
        </div>

        <h3>Der Arbeitsaufwand</h3>
        <p>Hier kommt die unbequeme Wahrheit:</p>

        <div class="factor-grid">
            <div class="factor-card">
                <div class="icon">‚ö°</div>
                <h4>Day & Swing Trading</h4>
                <p><strong>Es ist ein Vollzeit-Job!</strong> Viel Arbeit. Jeden Tag neu scannen, analysieren, handeln. Kein Escape.</p>
            </div>
            <div class="factor-card">
                <div class="icon">üìä</div>
                <h4>Position Trading</h4>
                <p>Weniger t√§gliche Arbeit, aber du brauchst andere Tools: MarketSmith, Datenbanken, Research-Reports.</p>
            </div>
        </div>

        <div class="quote-box">
            <p>Ich mache auch etwas Position-Trading im "Working People Portfolio". Aber ist das mein Brot-und-Butter-Gesch√§ft? NEIN. Mein echtes Geld mache ich mit Swing-Trading. Das andere ist ein Service f√ºr Leute, die nicht aktiv traden k√∂nnen.</p>
            <div class="quote-author">‚Äî Pradeep Bonde</div>
        </div>

        <!-- Quiz 5 -->
        <div class="quiz-container" id="quiz5">
            <h4>üß† Wissenscheck</h4>
            <p class="quiz-question">Warum kann ein Swing-Trader mit h√∂herer Position Size arbeiten als ein Position-Trader?</p>
            <div class="quiz-options">
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz5" value="a">
                    <span class="quiz-radio"></span>
                    <span>Weil Swing-Trader mehr Kapital haben</span>
                </label>
                <label class="quiz-option" data-correct="true">
                    <input type="radio" name="quiz5" value="b">
                    <span class="quiz-radio"></span>
                    <span>Weil die k√ºrzere Haltedauer weniger Volatilit√§tsrisiko bedeutet</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz5" value="c">
                    <span class="quiz-radio"></span>
                    <span>Weil Swing-Trading risikofreier ist</span>
                </label>
            </div>
            <div class="quiz-feedback" id="feedback5"></div>
        </div>

        <button class="continue-btn" id="continue5" onclick="completeSection(5)" disabled>
            Weiter zu Abschnitt 6 ‚û°Ô∏è
        </button>
    </div>

    <!-- Section 6: Deine Entscheidung -->
    <div class="section-card locked" id="section6" data-section="6">
        <h2><span class="section-number">6</span> Deine Entscheidung treffen</h2>
        
        <p>Jetzt bist du dran. Die Entscheidung zu treffen ist das Wichtigste, was du heute tun kannst.</p>

        <div class="highlight-box">
            <strong>üéØ Die goldene Regel</strong>
            <p>Sobald du dich entschieden hast, <strong>bleib dabei</strong>. Investiere in diesen Stil, bis er m√ºhelos wird. Wechsle nicht hin und her ‚Äì das kostet dich Jahre!</p>
        </div>

        <h3>Wenn du bereits einen Stil gew√§hlt hast...</h3>
        <p>F√ºr alle, die schon "verheiratet" sind mit einem Stil:</p>
        <ul>
            <li>Das Gras sieht auf der anderen Seite immer gr√ºner aus</li>
            <li>Du hast bereits Zeit und M√ºhe investiert ‚Äì nutze das!</li>
            <li>Konzentriere dich darauf, deinen Stil zu perfektionieren</li>
            <li>√Ñndere nicht pl√∂tzlich deinen "Gang" und fang an wie ein √Ñgypter zu laufen!</li>
        </ul>

        <div class="insight-box">
            <strong>üí° Die MBA-Analogie</strong>
            <p>Pradeep vergleicht es mit einem MBA-Studium: Du musst eine Spezialisierung w√§hlen (Marketing, Finance, Operations). Einige Studenten sind im dritten Semester noch unentschieden. Er wusste vom ersten Tag an: Marketing. Deshalb wurde er gut darin.</p>
        </div>

        <div class="reflection-box">
            <h4>üìù Deine Entscheidung</h4>
            <p>Basierend auf allem, was du gelernt hast ‚Äì welcher Stil passt zu dir und warum?</p>
            <textarea id="reflection1" placeholder="z.B. 'Ich w√§hle Swing-Trading, weil ich einen Vollzeit-Job habe und 2-3 Stunden am Abend Zeit habe. Position-Trading w√§re zu volatil f√ºr mein Nervenkost√ºm, und Day-Trading ist zeitlich nicht m√∂glich.'"></textarea>
        </div>

        <div class="summary-box">
            <h3>üéØ Die Key Takeaways</h3>
            <ul>
                <li><strong>Entscheide dich f√ºr EINEN Stil</strong> ‚Äì und committe dich f√ºr 5-10 Jahre</li>
                <li><strong>Lass dich nicht von Gurus beeinflussen</strong> ‚Äì basiere die Entscheidung auf deiner Situation</li>
                <li><strong>Verstehe die Konsequenzen</strong> ‚Äì jeder Stil hat Trade-offs</li>
                <li><strong>K√ºrzere Haltedauer = h√∂here Position Size m√∂glich</strong> ‚Äì das ist der Compound-Vorteil</li>
                <li><strong>Position-Trading hat versteckte Risiken</strong> ‚Äì Drawdowns, Kr√∂ten statt Prinzen</li>
                <li><strong>Wechsle nicht hin und her</strong> ‚Äì das kostet dich Jahre</li>
                <li><strong>Es ist ALLES harte Arbeit</strong> ‚Äì es gibt keinen einfachen Weg</li>
            </ul>
        </div>

        <div class="quote-box">
            <p>Wenn du diese Entscheidung treffen kannst, wirst du mir in 10 Jahren danken. Oder du wirst die n√§chsten 3-5 Jahre frustriert verschwenden. Die Wahl liegt bei dir. Je fr√ºher du entscheidest, desto besser.</p>
            <div class="quote-author">‚Äî Pradeep Bonde</div>
        </div>

        <!-- Quiz 6 -->
        <div class="quiz-container" id="quiz6">
            <h4>üß† Abschluss-Quiz</h4>
            <p class="quiz-question">Was ist laut Pradeep das Schlimmste, was du tun kannst?</p>
            <div class="quiz-options">
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz6" value="a">
                    <span class="quiz-radio"></span>
                    <span>Den falschen Trading-Stil w√§hlen</span>
                </label>
                <label class="quiz-option" data-correct="true">
                    <input type="radio" name="quiz6" value="b">
                    <span class="quiz-radio"></span>
                    <span>Zwischen verschiedenen Stilen hin und her wechseln</span>
                </label>
                <label class="quiz-option" data-correct="false">
                    <input type="radio" name="quiz6" value="c">
                    <span class="quiz-radio"></span>
                    <span>Zu wenig Kapital haben</span>
                </label>
            </div>
            <div class="quiz-feedback" id="feedback6"></div>
        </div>

        <button class="continue-btn" id="continue6" onclick="completeModule()">
            üéâ Modul abschlie√üen
        </button>
    </div>

    <!-- Completion Section (hidden initially) -->
    <div class="final-section" id="completionSection" style="display: none;">
        <h2>üéâ Gl√ºckwunsch!</h2>
        <p>Du hast das Modul "Dein Trading-Stil" abgeschlossen. Du verstehst jetzt die wichtigste Entscheidung, die du als Trader treffen musst.</p>
        <p>Jetzt liegt es an dir: <strong>Triff die Entscheidung und committe dich!</strong></p>
        <button class="continue-btn" onclick="window.location.href='/wie-man-trader-wird'" style="background: white; color: #b8860b;">
            üìö Weiter zu "Wie man Trader wird"
        </button>
        <button class="continue-btn" onclick="window.location.href='/modules'" style="background: rgba(255,255,255,0.2); color: white; margin-left: 10px;">
            üè† Zur√ºck zu allen Modulen
        </button>
    </div>
</div>

<!-- Navigation -->
{% include '_navigation.html' %}

<script>
    // State Management
    let currentSection = 1;
    let completedSections = [];
    let quizAnswers = {};

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        loadProgress();
        setupQuizzes();
        updateUI();
    });

    // Setup Quiz Event Listeners
    function setupQuizzes() {
        for (let i = 1; i <= 6; i++) {
            const quizContainer = document.getElementById(`quiz${i}`);
            if (!quizContainer) continue;

            const options = quizContainer.querySelectorAll('.quiz-option');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    handleQuizAnswer(i, this);
                });
            });
        }
    }

    // Handle Quiz Answer
    function handleQuizAnswer(quizNum, selectedOption) {
        const quizContainer = document.getElementById(`quiz${quizNum}`);
        const options = quizContainer.querySelectorAll('.quiz-option');
        const feedback = document.getElementById(`feedback${quizNum}`);
        const continueBtn = document.getElementById(`continue${quizNum}`);

        // Remove previous selections
        options.forEach(opt => {
            opt.classList.remove('selected', 'correct', 'incorrect');
        });

        // Mark selected
        selectedOption.classList.add('selected');

        // Check if correct
        const isCorrect = selectedOption.dataset.correct === 'true';
        quizAnswers[quizNum] = isCorrect;

        // Show feedback
        if (isCorrect) {
            selectedOption.classList.add('correct');
            feedback.className = 'quiz-feedback show correct';
            feedback.innerHTML = '‚úÖ Richtig! Sehr gut verstanden.';
            continueBtn.disabled = false;
        } else {
            selectedOption.classList.add('incorrect');
            feedback.className = 'quiz-feedback show incorrect';
            feedback.innerHTML = '‚ùå Nicht ganz. Lies den Abschnitt noch einmal durch und versuche es erneut.';
        }

        saveProgress();
    }

    // Select Style Card
    function selectStyle(element, style) {
        document.querySelectorAll('.style-card').forEach(card => {
            card.classList.remove('selected');
        });
        element.classList.add('selected');
        localStorage.setItem('selectedTradingStyle', style);
    }

    // Complete Section
    function completeSection(sectionNum) {
        if (!completedSections.includes(sectionNum)) {
            completedSections.push(sectionNum);
        }
        currentSection = sectionNum + 1;
        
        // Mark current section as completed
        const section = document.getElementById(`section${sectionNum}`);
        section.classList.add('completed');
        
        // Unlock next section
        const nextSection = document.getElementById(`section${sectionNum + 1}`);
        if (nextSection) {
            nextSection.classList.remove('locked');
            // Scroll to next section
            nextSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        updateProgress();
        saveProgress();
    }

    // Complete Module
    function completeModule() {
        if (!completedSections.includes(6)) {
            completedSections.push(6);
        }
        
        const section6 = document.getElementById('section6');
        section6.classList.add('completed');
        
        const completionSection = document.getElementById('completionSection');
        completionSection.style.display = 'block';
        completionSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        updateProgress();
        saveProgress();
    }

    // Update Progress Bar
    function updateProgress() {
        const totalSections = 6;
        const progress = (completedSections.length / totalSections) * 100;
        
        document.getElementById('progressBar').style.width = `${progress}%`;
        document.getElementById('progressText').textContent = `${Math.round(progress)}%`;
    }

    // Update UI based on state
    function updateUI() {
        // Unlock completed sections
        completedSections.forEach(sectionNum => {
            const section = document.getElementById(`section${sectionNum}`);
            if (section) {
                section.classList.remove('locked');
                section.classList.add('completed');
            }
        });

        // Unlock current section
        const currentSectionEl = document.getElementById(`section${currentSection}`);
        if (currentSectionEl) {
            currentSectionEl.classList.remove('locked');
        }

        // Re-enable continue buttons for completed quizzes
        Object.keys(quizAnswers).forEach(quizNum => {
            if (quizAnswers[quizNum]) {
                const btn = document.getElementById(`continue${quizNum}`);
                if (btn) btn.disabled = false;
            }
        });

        // Restore selected style
        const savedStyle = localStorage.getItem('selectedTradingStyle');
        if (savedStyle) {
            const styleCard = document.querySelector(`.style-card.${savedStyle}-trading`);
            if (styleCard) styleCard.classList.add('selected');
        }

        updateProgress();
    }

    // Save Progress to localStorage
    function saveProgress() {
        const state = {
            currentSection,
            completedSections,
            quizAnswers,
            reflections: {
                reflection1: document.getElementById('reflection1')?.value || ''
            }
        };
        localStorage.setItem('tradingStilProgress', JSON.stringify(state));
    }

    // Load Progress from localStorage
    function loadProgress() {
        const saved = localStorage.getItem('tradingStilProgress');
        if (saved) {
            const state = JSON.parse(saved);
            currentSection = state.currentSection || 1;
            completedSections = state.completedSections || [];
            quizAnswers = state.quizAnswers || {};
            
            // Restore reflections
            if (state.reflections) {
                const r1 = document.getElementById('reflection1');
                if (r1) r1.value = state.reflections.reflection1 || '';
            }
        }
    }

    // Save reflections on input
    document.querySelectorAll('textarea').forEach(textarea => {
        textarea.addEventListener('input', saveProgress);
    });
</script>
</div>
{% endblock %}

