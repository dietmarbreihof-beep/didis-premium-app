<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ABCD Trade-Grades Position Sizing Calculator - Exponentielles Bet-Sizing f√ºr Elite-Trader">
    <meta name="keywords" content="Position Sizing, Trade Grades, ABCD Trading, Exponentielles Sizing, Bet Sizing">
    
    <title>üéØ ABCD Trade-Grades Calculator | Didis Trading Academy</title>
    
    <!-- Import Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Chart.js f√ºr interaktive Diagramme -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            /* Didis Design-System */
            --primary-dark: #1a1a1a;
            --primary-medium: #2d2d2d;
            --gold-dark: #b8860b;
            --gold-classic: #daa520;
            --gold-light: #f4e97b;
            --success: #38a169;
            --warning: #d69e2e;
            --error: #e53e3e;
            --bg-page: #f7f7f7;
            --bg-card: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            color: var(--primary-dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Hero Header */
        .hero-header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--gold-dark) 100%);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
            color: white;
            text-align: center;
        }

        .hero-header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .hero-header p {
            font-size: 1.3em;
            opacity: 0.9;
            line-height: 1.6;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-button {
            flex: 1;
            min-width: 150px;
            padding: 15px 25px;
            background: var(--primary-medium);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: normal;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: linear-gradient(135deg, var(--gold-dark), var(--gold-classic));
            font-weight: bold;
        }

        .tab-button:hover {
            transform: translateY(-2px);
        }

        /* Content Cards */
        .content-card {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        /* Grid Layout */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--primary-dark);
        }

        .form-group input[type="number"] {
            width: 100%;
            padding: 12px;
            font-size: 1.2em;
            border: 2px solid var(--gold-classic);
            border-radius: 8px;
        }

        .form-group input[type="range"] {
            width: 100%;
            margin-bottom: 10px;
        }

        .range-value {
            font-size: 1.3em;
            font-weight: bold;
            color: var(--gold-dark);
        }

        /* Radio Buttons */
        .radio-group {
            margin-bottom: 10px;
        }

        .radio-option {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            padding: 12px;
            background: var(--bg-page);
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .radio-option.selected {
            background: var(--gold-light);
            border-color: var(--gold-dark);
        }

        .radio-option input[type="radio"] {
            margin-right: 10px;
        }

        .radio-description {
            margin-top: 5px;
            margin-left: 30px;
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }

        /* Grade Buttons */
        .grade-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .grade-button {
            padding: 15px;
            background: var(--bg-page);
            color: var(--primary-dark);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .grade-button.selected {
            color: white;
        }

        .grade-button.grade-a.selected { background: var(--success); }
        .grade-button.grade-b.selected { background: var(--warning); }
        .grade-button.grade-c.selected { background: var(--gold-dark); color: white; }
        .grade-button.grade-d.selected { background: var(--error); }

        /* Result Display */
        .result-card {
            border-radius: 12px;
            padding: 30px;
            color: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .result-amount {
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }

        .result-amount .label {
            font-size: 1.2em;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .result-amount .amount {
            font-size: 3em;
            font-weight: bold;
        }

        .result-amount .percentage {
            font-size: 1.1em;
            margin-top: 10px;
            opacity: 0.9;
        }

        .characteristics {
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .characteristics h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .characteristics div {
            margin-bottom: 10px;
        }

        /* Trade Grade Cards */
        .grade-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .grade-card:hover {
            transform: translateY(-5px);
        }

        .grade-card.grade-a { border-left: 6px solid var(--success); }
        .grade-card.grade-b { border-left: 6px solid var(--warning); }
        .grade-card.grade-c { border-left: 6px solid var(--gold-light); }
        .grade-card.grade-d { border-left: 6px solid var(--error); }

        .grade-title {
            font-size: 1.6em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .grade-title.grade-a { color: var(--success); }
        .grade-title.grade-b { color: var(--warning); }
        .grade-title.grade-c { color: var(--gold-dark); }
        .grade-title.grade-d { color: var(--error); }

        .grade-stats {
            margin-bottom: 15px;
            padding: 15px;
            background: var(--bg-page);
            border-radius: 8px;
        }

        .grade-stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .grade-examples {
            padding: 12px;
            border-radius: 8px;
        }

        .grade-examples.grade-a { background: rgba(56, 161, 105, 0.1); }
        .grade-examples.grade-b { background: rgba(214, 158, 46, 0.1); }
        .grade-examples.grade-c { background: rgba(184, 134, 11, 0.1); }
        .grade-examples.grade-d { background: rgba(229, 62, 62, 0.1); }

        /* Comparison Cards */
        .comparison-card {
            border-radius: 12px;
            padding: 25px;
            text-align: center;
        }

        .comparison-card.positive {
            background: rgba(56, 161, 105, 0.2);
            border-left: 6px solid var(--success);
        }

        .comparison-card.negative {
            background: rgba(229, 62, 62, 0.2);
            border-left: 6px solid var(--error);
        }

        .comparison-amount {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .comparison-amount.positive { color: var(--success); }
        .comparison-amount.negative { color: var(--error); }

        .comparison-percentage {
            font-size: 1.3em;
            font-weight: bold;
        }

        /* Warning Boxes */
        .warning-box {
            background: rgba(229, 62, 62, 0.2);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 6px solid var(--error);
        }

        .warning-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: var(--error);
        }

        .success-box {
            background: rgba(56, 161, 105, 0.2);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 6px solid var(--success);
        }

        .success-title {
            font-size: 1.6em;
            margin-bottom: 20px;
            color: var(--success);
        }

        .highlight-box {
            background: linear-gradient(135deg, var(--gold-light), var(--gold-classic));
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .highlight-title {
            font-size: 1.6em;
            margin-bottom: 20px;
            color: var(--primary-dark);
        }

        /* Lists */
        ul {
            padding-left: 25px;
        }

        li {
            margin-bottom: 15px;
            font-size: 1.1em;
            line-height: 1.8;
        }

        /* Poker Cards Styling */
        .poker-comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .poker-card-section {
            background: rgba(255, 255, 255, 0.05);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }

        .poker-card-section:hover {
            transform: translateY(-10px);
        }

        .poker-section-title {
            font-size: 2.5em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .d-trade-section .poker-section-title {
            color: #e53e3e;
        }

        .a-trade-section .poker-section-title {
            color: #38a169;
        }

        .poker-subtitle {
            text-align: center;
            font-size: 1.3em;
            color: #fff;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .poker-table {
            background: radial-gradient(ellipse at center, #1a5c3d 0%, #0d3d26 100%);
            border-radius: 200px;
            padding: 60px 40px;
            border: 8px solid #8B4513;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6),
                        inset 0 0 50px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .poker-table::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            height: 85%;
            border: 2px dashed rgba(255, 215, 0, 0.2);
            border-radius: 200px;
        }

        .cards-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            position: relative;
            z-index: 1;
        }

        .playing-card {
            width: 140px;
            height: 200px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            padding: 15px;
            position: relative;
            transition: transform 0.3s ease;
        }

        .playing-card:hover {
            transform: translateY(-15px) rotate(2deg);
        }

        .card-value {
            font-size: 2.5em;
            font-weight: bold;
            line-height: 1;
        }

        .card-suit {
            font-size: 2em;
            line-height: 1;
        }

        .card-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4em;
        }

        .red {
            color: #e53e3e;
        }

        .black {
            color: #1a1a1a;
        }

        .poker-stats-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
            border-left: 6px solid;
        }

        .d-trade-section .poker-stats-box {
            border-left-color: #e53e3e;
        }

        .a-trade-section .poker-stats-box {
            border-left-color: #38a169;
        }

        .poker-stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
        }

        .poker-stat-row:last-child {
            border-bottom: none;
        }

        .poker-stat-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .poker-stat-value {
            font-size: 1.4em;
            font-weight: bold;
        }

        .d-trade-section .poker-stat-value {
            color: #e53e3e;
        }

        .a-trade-section .poker-stat-value {
            color: #38a169;
        }

        .poker-warning-box {
            background: linear-gradient(135deg, rgba(229, 62, 62, 0.2), rgba(229, 62, 62, 0.1));
            border: 2px solid #e53e3e;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            color: white;
        }

        .poker-success-box {
            background: linear-gradient(135deg, rgba(56, 161, 105, 0.2), rgba(56, 161, 105, 0.1));
            border: 2px solid #38a169;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            color: white;
        }

        .poker-emphasis {
            font-size: 1.2em;
            font-weight: bold;
            line-height: 1.6;
        }

        .poker-probability {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            color: white;
            font-size: 1.1em;
        }

        /* Footer */
        .footer {
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary-medium) 0%, var(--primary-dark) 100%);
            border-radius: 12px;
            color: white;
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .tab-navigation {
                flex-direction: column;
            }
            
            .tab-button {
                min-width: auto;
            }
            
            .hero-header h1 {
                font-size: 2em;
            }
            
            .result-amount .amount {
                font-size: 2em;
            }

            /* Poker Cards Responsive */
            .poker-comparison-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .playing-card {
                width: 110px;
                height: 160px;
            }

            .card-value {
                font-size: 2em;
            }

            .card-center {
                font-size: 3em;
            }

            .poker-section-title {
                font-size: 2em;
            }
        }

        /* Chart Container */
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .chart-wrapper {
            position: relative;
            height: 400px;
            margin-bottom: 20px;
        }

        .chart-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .chart-tab-button {
            padding: 10px 20px;
            background: var(--bg-page);
            border: 2px solid var(--gold-classic);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            color: var(--primary-dark);
        }

        .chart-tab-button.active {
            background: var(--gold-classic);
            color: white;
        }

        .chart-tab-button:hover {
            transform: translateY(-2px);
        }

        /* Progressive Disclosure Styling */
        .learning-step {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .learning-step.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .learning-step.locked {
            opacity: 0.3;
            pointer-events: none;
        }

        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--gold-light);
        }

        .step-number {
            background: var(--gold-dark);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 15px;
        }

        .step-title {
            font-size: 1.6em;
            font-weight: bold;
            color: var(--primary-dark);
        }

        .next-step-button {
            background: linear-gradient(135deg, var(--gold-dark), var(--gold-classic));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .next-step-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(184, 134, 11, 0.3);
        }

        .quiz-container {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid #0ea5e9;
        }

        .quiz-question {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-dark);
        }

        .quiz-options {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quiz-option {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--primary-dark);
            font-weight: 500;
        }

        .quiz-option:hover {
            border-color: var(--gold-classic);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            border-color: var(--gold-dark);
            background: var(--gold-light);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(56, 161, 105, 0.1);
        }

        .quiz-option.wrong {
            border-color: var(--error);
            background: rgba(229, 62, 62, 0.1);
        }

        .quiz-feedback {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
        }

        .quiz-feedback.correct {
            background: rgba(56, 161, 105, 0.2);
            color: var(--success);
        }

        .quiz-feedback.wrong {
            background: rgba(229, 62, 62, 0.2);
            color: var(--error);
        }

        .progress-bar-container {
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar-fill {
            background: linear-gradient(90deg, var(--gold-dark), var(--gold-classic));
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-text {
            text-align: center;
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        /* Hidden class for tab content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- Hero Header -->
        <div class="hero-header">
            <h1>üéØ Positionsgr√∂√üen-Kalkulator</h1>
            <p>Wie Du durch intelligentes Bet-Sizing Deine Trading-Performance exponentiell steigerst</p>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar-container">
            <div class="progress-bar-fill" id="progressBar"></div>
        </div>
        <div class="progress-text" id="progressText">Schritt 1 von 5: Poker-Analogie verstehen</div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" onclick="showTab('poker')">‚ô†Ô∏è 1. Poker-Analogie</button>
            <button class="tab-button" onclick="showTab('warning')">‚ö†Ô∏è 2. Wichtige Warnung</button>
            <button class="tab-button" onclick="showTab('grades')">üìä 3. Trade-Grades</button>
            <button class="tab-button" onclick="showTab('calculator')">üßÆ 4. Calculator</button>
            <button class="tab-button" onclick="showTab('comparison')">üìà 5. Performance-Vergleich</button>
        </div>

        <!-- Poker Tab (Schritt 1) -->
        <div id="poker" class="tab-content active">
            <div style="background: linear-gradient(135deg, #0a4d2e 0%, #1a5c3d 50%, #0a4d2e 100%); border-radius: 12px; padding: 40px; color: white;">
                <div class="step-header" style="border-bottom-color: #daa520;">
                    <div class="step-number">1</div>
                    <div class="step-title" style="color: #daa520;">‚ô†Ô∏è Die Poker-Analogie verstehen</div>
                </div>

                <h2 style="font-size: 2.5em; margin-bottom: 20px; text-align: center; color: #daa520; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);">
                    Warum Du niemals gleich viel auf jede Hand setzen solltest
                </h2>

                <div class="poker-comparison-grid">
                    <!-- D-Trade Section -->
                    <div class="poker-card-section d-trade-section">
                        <div class="poker-section-title">D-TRADE</div>
                        <div class="poker-subtitle">Die schlechteste Starting Hand</div>
                        
                        <div class="poker-table">
                            <div class="cards-container">
                                <div class="playing-card">
                                    <div class="card-value black">9</div>
                                    <div class="card-suit black">‚ô£</div>
                                    <div class="card-center black">‚ô£</div>
                                </div>
                                
                                <div class="playing-card">
                                    <div class="card-value red">2</div>
                                    <div class="card-suit red">‚ô•</div>
                                    <div class="card-center red">‚ô•</div>
                                </div>
                            </div>
                        </div>

                        <div class="poker-stats-box">
                            <div class="poker-stat-row">
                                <span class="poker-stat-label">Win-Rate:</span>
                                <span class="poker-stat-value">38,9%</span>
                            </div>
                            <div class="poker-stat-row">
                                <span class="poker-stat-label">Trading-Equivalent:</span>
                                <span class="poker-stat-value">D-Trade (40%)</span>
                            </div>
                            <div class="poker-stat-row">
                                <span class="poker-stat-label">H√§ufigkeit:</span>
                                <span class="poker-stat-value">St√§ndig verf√ºgbar</span>
                            </div>
                        </div>

                        <div class="poker-probability">
                            Diese Hand verliert in <strong>6 von 10 F√§llen</strong>
                        </div>

                        <div class="poker-warning-box">
                            <p class="poker-emphasis">
                                ‚ö†Ô∏è Niemals gro√ü setzen!<br><br>
                                Selbst Profi-Pokerspieler folden diese Hand sofort. 
                                Warum? Weil die Wahrscheinlichkeit zu verlieren viel h√∂her ist als zu gewinnen.
                            </p>
                        </div>
                    </div>

                    <!-- A-Trade Section -->
                    <div class="poker-card-section a-trade-section">
                        <div class="poker-section-title">A-TRADE</div>
                        <div class="poker-subtitle">Pocket Aces - Die K√∂nigshand</div>
                        
                        <div class="poker-table">
                            <div class="cards-container">
                                <div class="playing-card">
                                    <div class="card-value red">A</div>
                                    <div class="card-suit red">‚ô•</div>
                                    <div class="card-center red">‚ô•</div>
                                </div>
                                
                                <div class="playing-card">
                                    <div class="card-value black">A</div>
                                    <div class="card-suit black">‚ô†</div>
                                    <div class="card-center black">‚ô†</div>
                                </div>
                            </div>
                        </div>

                        <div class="poker-stats-box">
                            <div class="poker-stat-row">
                                <span class="poker-stat-label">Win-Rate:</span>
                                <span class="poker-stat-value">85,3%</span>
                            </div>
                            <div class="poker-stat-row">
                                <span class="poker-stat-label">Trading-Equivalent:</span>
                                <span class="poker-stat-value">A-Trade (90%)</span>
                            </div>
                            <div class="poker-stat-row">
                                <span class="poker-stat-label">H√§ufigkeit:</span>
                                <span class="poker-stat-value">1 von 221 H√§nden (0,45%)</span>
                            </div>
                        </div>

                        <div class="poker-probability">
                            Diese Hand gewinnt in <strong>mehr als 8 von 10 F√§llen</strong>
                        </div>

                        <div class="poker-success-box">
                            <p class="poker-emphasis">
                                üöÄ GO ALL-IN!<br><br>
                                Wenn Du Pocket Aces bekommst, ist es Zeit massiv zu setzen. Diese Hand kommt nur alle 221 H√§nde vor!
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Quiz nach Poker-Analogie -->
                <div class="quiz-container">
                    <div class="quiz-question">üß† Quiz: Verstehst Du die Poker-Analogie?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="selectQuizAnswer(1, 'A', false)">
                            A) Ich sollte auf alle Poker-H√§nde gleich viel setzen
                        </div>
                        <div class="quiz-option" onclick="selectQuizAnswer(1, 'B', true)">
                            B) Ich sollte auf starke H√§nde (Pocket Aces) viel mehr setzen als auf schwache H√§nde (9-2)
                        </div>
                        <div class="quiz-option" onclick="selectQuizAnswer(1, 'C', false)">
                            C) Poker hat nichts mit Trading zu tun
                        </div>
                    </div>
                    <div id="quiz1Feedback" class="quiz-feedback" style="display: none;"></div>
                </div>

                <!-- Bottom Conclusion -->
                <div style="margin-top: 40px; text-align: center; background: rgba(0, 0, 0, 0.4); padding: 40px; border-radius: 20px; border: 2px solid #daa520;">
                    <h2 style="color: #daa520; font-size: 2.2em; margin-bottom: 20px;">üí° Die entscheidende Lektion</h2>
                    <p style="color: white; font-size: 1.3em; line-height: 1.8; max-width: 900px; margin: 0 auto;">
                        W√ºrdest Du auf 9-2 und Pocket Aces die <strong>gleiche Summe</strong> setzen?<br><br>
                        <span style="color: #e53e3e; font-size: 1.2em;">Nat√ºrlich nicht!</span><br><br>
                        Genau so funktioniert Trading: Wenn Du auf D-Trades und A-Trades die gleiche Positionsgr√∂√üe setzt, 
                        <strong style="color: #daa520;">verschenkst Du massiv Potential</strong> und machst Dich langfristig zum Verlierer-Trader.
                    </p>
                </div>

                <button type="button" class="next-step-button" onclick="nextStep()" id="step1NextButton" style="display: none;">
                    ‚úÖ Verstanden - Weiter zu Schritt 2: Wichtige Warnung ‚û°Ô∏è
                </button>
            </div>
        </div>

        <!-- Warning Tab (Schritt 2) -->
        <div id="warning" class="tab-content">
            <div class="content-card">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">‚ö†Ô∏è Kritische Warnung f√ºr Anf√§nger</div>
                </div>

                <div class="warning-box">
                    <h3 class="warning-title">üö® Exponentielles Bet-Sizing ist NICHT f√ºr Anf√§nger!</h3>
                    <p style="font-size: 1.2em; line-height: 1.8; color: var(--primary-dark);">
                        Dieser Kalkulator und die gesamte Methodik basieren auf einem fundamentalen Prinzip: 
                        <strong> Du musst Deine A-Trades von Deinen D-Trades unterscheiden k√∂nnen - IN ECHTZEIT, VOR dem Entry!</strong>
                    </p>
                </div>

                <div style="margin-bottom: 30px;">
                    <h3 style="font-size: 1.6em; margin-bottom: 20px; color: var(--primary-dark);">
                        üéØ Drei kritische Voraussetzungen
                    </h3>
                    
                    <div style="display: grid; gap: 20px;">
                        <div style="background: var(--bg-page); border-radius: 12px; padding: 25px; border-left: 6px solid var(--gold-dark);">
                            <h4 style="font-size: 1.3em; margin-bottom: 15px; color: var(--gold-dark);">
                                1. Empirische Daten aus Deinem Journal
                            </h4>
                            <p style="font-size: 1.1em; line-height: 1.6; margin-bottom: 15px;">
                                <strong>Ohne Journal-Auswertung Deiner eigenen Setups fehlt Dir die empirische Grundlage f√ºr pr√§zises Grading.</strong>
                            </p>
                            <p style="font-size: 1.05em; line-height: 1.6; color: var(--primary-medium);">
                                Die Win-Rates in diesem Tool (90%, 70%, 55%, 40%) stammen aus Lance Breitsteins Beispiel-Fallstudie - 
                                <strong> nicht aus Deinen realen Trading-Daten!</strong> Du musst es messen!
                            </p>
                        </div>

                        <div style="background: var(--bg-page); border-radius: 12px; padding: 25px; border-left: 6px solid var(--gold-dark);">
                            <h4 style="font-size: 1.3em; margin-bottom: 15px; color: var(--gold-dark);">
                                2. Entwickelte Trading-Strategie
                            </h4>
                            <p style="font-size: 1.1em; line-height: 1.6; margin-bottom: 15px;">
                                Du brauchst ein <strong>erprobtes Playbook</strong> mit definierten Setups.
                            </p>
                            <p style="font-size: 1.05em; line-height: 1.6; color: var(--primary-medium);">
                                <strong>Wenn Du noch kein klares System hast:</strong> Fokussiere Dich ERST auf das Erlernen einer Strategie 
                                mit kleinen, gleichbleibenden Positionsgr√∂√üen. Bet-Sizing kommt sp√§ter!
                            </p>
                        </div>

                        <div style="background: var(--bg-page); border-radius: 12px; padding: 25px; border-left: 6px solid var(--gold-dark);">
                            <h4 style="font-size: 1.3em; margin-bottom: 15px; color: var(--gold-dark);">
                                3. Psychologische Stabilit√§t
                            </h4>
                            <p style="font-size: 1.1em; line-height: 1.6; margin-bottom: 15px;">
                                Du musst in der Lage sein, <strong>gr√∂√üere Positionsgr√∂√üen zu handeln, ohne dass es Deine Psychologie ver√§ndert.</strong>
                            </p>
                            <div style="margin-top: 15px; padding: 15px; background: rgba(229, 62, 62, 0.2); border-radius: 8px;">
                                <strong>Warnung:</strong> Viele Trader ruinieren ihre Accounts, weil sie zu schnell skalieren!
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quiz nach Warnung -->
                <div class="quiz-container">
                    <div class="quiz-question">üß† Quiz: Was ist die wichtigste Voraussetzung f√ºr exponentielles Sizing?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="selectQuizAnswer(2, 'A', false)">
                            A) Viel Geld im Depot haben
                        </div>
                        <div class="quiz-option" onclick="selectQuizAnswer(2, 'B', true)">
                            B) A-Trades von D-Trades unterscheiden k√∂nnen - IN ECHTZEIT, VOR dem Entry
                        </div>
                        <div class="quiz-option" onclick="selectQuizAnswer(2, 'C', false)">
                            C) Viele Jahre Erfahrung haben
                        </div>
                    </div>
                    <div id="quiz2Feedback" class="quiz-feedback" style="display: none;"></div>
                </div>

                <div class="highlight-box">
                    <h3 class="highlight-title">‚úÖ Der richtige Weg zum exponentiellen Sizing</h3>
                    <div style="font-size: 1.1em; line-height: 1.8; color: var(--primary-dark);">
                        <p style="margin-bottom: 15px;">
                            <strong>Phase 1 (Monate 1-6):</strong> Lerne Dein Setup. Trade mit kleiner, gleichbleibender Size. 
                            F√ºhre detailliertes Journal. Ziel: Konsistenz entwickeln.
                        </p>
                        <p style="margin-bottom: 15px;">
                            <strong>Phase 2 (Monate 7-12):</strong> Analysiere Dein Journal. Identifiziere Deine besten Setups. 
                            Beginne mit leichtem linearem Sizing (1x, 1.5x, 2x, 3x).
                        </p>
                        <p style="margin-bottom: 15px;">
                            <strong>Phase 3 (Jahr 2+):</strong> Mit 100+ Trades und bewiesener Konsistenz: 
                            Beginne vorsichtig mit exponentiellem Sizing.
                        </p>
                        <p>
                            <strong>Phase 4 (Elite Level):</strong> Nach Jahren der Erfahrung: 
                            Aggressive Skalierung bei A-Setups (1x, 3x, 9x, 27x).
                        </p>
                    </div>
                </div>

                <button type="button" class="next-step-button" onclick="nextStep()" id="step2NextButton" style="display: none;">
                    ‚úÖ Warnung verstanden - Weiter zu Schritt 3: Trade-Grades ‚û°Ô∏è
                </button>
            </div>
        </div>

        <!-- Grades Tab (Schritt 3) -->
        <div id="grades" class="tab-content">
            <div class="content-card">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title">üìä Trade-Grades verstehen</div>
                </div>

                <div style="margin-bottom: 30px;">
                    <h3 style="font-size: 1.6em; margin-bottom: 20px; color: var(--primary-dark); text-align: center;">
                        üéØ Die 4 Trade-Kategorien im Detail
                    </h3>
                    <p style="font-size: 1.1em; line-height: 1.8; color: var(--primary-medium); text-align: center; max-width: 800px; margin: 0 auto 30px;">
                        Elite-Trader kategorisieren jeden Trade VOR dem Entry. So wei√üt Du genau, wie viel Risiko Du eingehen solltest.
                    </p>
                </div>

                <div class="grid-4">
                    <div class="grade-card grade-a">
                        <h3 class="grade-title grade-a">A-Trade</h3>
                        <div class="grade-stats">
                            <div class="grade-stat"><span><strong>Win-Rate:</strong></span><span style="color: var(--success); font-weight: bold;">90%</span></div>
                            <div class="grade-stat"><span><strong>R:R:</strong></span><span style="color: var(--success); font-weight: bold;">1:4</span></div>
                            <div class="grade-stat"><span><strong>EV:</strong></span><span style="color: var(--success); font-weight: bold;">$3.50</span></div>
                            <div class="grade-stat"><span><strong>H√§ufigkeit:</strong></span><span style="font-size: 0.9em;">2-3x pro Monat</span></div>
                        </div>
                        <p style="font-size: 1.05em; line-height: 1.6; color: var(--primary-medium); margin-bottom: 15px;">
                            Die absoluten Highlight-Trades des Jahres. Pocket Aces. Alles stimmt perfekt.
                        </p>
                        <div class="grade-examples grade-a">
                            <strong style="color: var(--success);">Beispiele:</strong>
                            <div style="font-size: 0.95em; margin-top: 8px; line-height: 1.5;">
                                QXO Entry bei $13.90, CELH Breakout, SMCI Stage 2 Setup
                            </div>
                        </div>
                    </div>

                    <div class="grade-card grade-b">
                        <h3 class="grade-title grade-b">B-Trade</h3>
                        <div class="grade-stats">
                            <div class="grade-stat"><span><strong>Win-Rate:</strong></span><span style="color: var(--warning); font-weight: bold;">70%</span></div>
                            <div class="grade-stat"><span><strong>R:R:</strong></span><span style="color: var(--warning); font-weight: bold;">1:2</span></div>
                            <div class="grade-stat"><span><strong>EV:</strong></span><span style="color: var(--warning); font-weight: bold;">$1.10</span></div>
                            <div class="grade-stat"><span><strong>H√§ufigkeit:</strong></span><span style="font-size: 0.9em;">Mehrmals pro Woche</span></div>
                        </div>
                        <p style="font-size: 1.05em; line-height: 1.6; color: var(--primary-medium); margin-bottom: 15px;">
                            Solide Setups mit gutem Risk-Reward. Die "Singles" im Trading.
                        </p>
                        <div class="grade-examples grade-b">
                            <strong style="color: var(--warning);">Beispiele:</strong>
                            <div style="font-size: 0.95em; margin-top: 8px; line-height: 1.5;">
                                Stage 2 Continuation, Breakout √ºber Resistance, Momentum-Plays
                            </div>
                        </div>
                    </div>

                    <div class="grade-card grade-c">
                        <h3 class="grade-title grade-c">C-Trade</h3>
                        <div class="grade-stats">
                            <div class="grade-stat"><span><strong>Win-Rate:</strong></span><span style="color: var(--gold-dark); font-weight: bold;">55%</span></div>
                            <div class="grade-stat"><span><strong>R:R:</strong></span><span style="color: var(--gold-dark); font-weight: bold;">1:1</span></div>
                            <div class="grade-stat"><span><strong>EV:</strong></span><span style="color: var(--gold-dark); font-weight: bold;">$0.10</span></div>
                            <div class="grade-stat"><span><strong>H√§ufigkeit:</strong></span><span style="font-size: 0.9em;">T√§glich</span></div>
                        </div>
                        <p style="font-size: 1.05em; line-height: 1.6; color: var(--primary-medium); margin-bottom: 15px;">
                            Durchschnittliche Trades. Leichter Edge, aber nichts Besonderes.
                        </p>
                        <div class="grade-examples grade-c">
                            <strong style="color: var(--gold-dark);">Beispiele:</strong>
                            <div style="font-size: 0.95em; margin-top: 8px; line-height: 1.5;">
                                Kleine Scalps, Range-Trades, Routine-Setups
                            </div>
                        </div>
                    </div>

                    <div class="grade-card grade-d">
                        <h3 class="grade-title grade-d">D-Trade</h3>
                        <div class="grade-stats">
                            <div class="grade-stat"><span><strong>Win-Rate:</strong></span><span style="color: var(--error); font-weight: bold;">40%</span></div>
                            <div class="grade-stat"><span><strong>R:R:</strong></span><span style="color: var(--error); font-weight: bold;">1:1</span></div>
                            <div class="grade-stat"><span><strong>EV:</strong></span><span style="color: var(--error); font-weight: bold;">-$0.20</span></div>
                            <div class="grade-stat"><span><strong>H√§ufigkeit:</strong></span><span style="font-size: 0.9em;">St√§ndig verf√ºgbar</span></div>
                        </div>
                        <p style="font-size: 1.05em; line-height: 1.6; color: var(--primary-medium); margin-bottom: 15px;">
                            Mediocre 50/50 Trades oder negativer Expected Value. Vermeiden!
                        </p>
                        <div class="grade-examples grade-d">
                            <strong style="color: var(--error);">Beispiele:</strong>
                            <div style="font-size: 0.95em; margin-top: 8px; line-height: 1.5;">
                                FOMO-Trades, Breaking News ohne Setup, √úbertrading
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quiz nach Trade-Grades -->
                <div class="quiz-container" style="margin-top: 30px;">
                    <div class="quiz-question">üß† Quiz: Welcher Trade-Typ hat den h√∂chsten Expected Value?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="selectQuizAnswer(3, 'A', true)">
                            A) A-Trade mit $3.50 EV pro gerisikiertem Dollar
                        </div>
                        <div class="quiz-option" onclick="selectQuizAnswer(3, 'B', false)">
                            B) B-Trade mit $1.10 EV, weil sie h√§ufiger vorkommen
                        </div>
                        <div class="quiz-option" onclick="selectQuizAnswer(3, 'C', false)">
                            C) Alle Trades haben den gleichen Expected Value
                        </div>
                    </div>
                    <div id="quiz3Feedback" class="quiz-feedback" style="display: none;"></div>
                </div>

                <button type="button" class="next-step-button" onclick="nextStep()" id="step3NextButton" style="display: none;">
                    ‚úÖ Trade-Grades verstanden - Weiter zu Schritt 4: Calculator ‚û°Ô∏è
                </button>
            </div>
        </div>

        <!-- Calculator Tab (Schritt 4) -->
        <div id="calculator" class="tab-content">
            <div class="grid-2">
                <!-- Einstellungen -->
                <div class="content-card">
                    <h2 style="font-size: 1.8em; margin-bottom: 25px; color: var(--primary-dark);">
                        üßÆ Deine Einstellungen
                    </h2>

                    <div class="form-group">
                        <label>Depotwert (‚Ç¨)</label>
                        <input type="number" id="depotwert" value="100000" onchange="updateCalculation()">
                    </div>

                    <div class="form-group">
                        <label>Basis-Risiko pro D-Trade (%)</label>
                        <input type="range" id="risikoRange" min="0.25" max="3" step="0.25" value="1" onchange="updateRiskSlider()">
                        <div class="range-value" id="risikoValue">1%</div>
                    </div>

                    <div class="form-group">
                        <label>Sizing-Methode</label>
                        <div class="radio-group">
                            <div class="radio-option" onclick="selectMethod('equal')">
                                <div style="display: flex; align-items: center;">
                                    <input type="radio" name="method" value="equal" id="equal">
                                    <span style="font-weight: bold; font-size: 1.05em;">Gleiches Sizing</span>
                                </div>
                                <div class="radio-description">F√ºr Anf√§nger - Lerne erst Dein System</div>
                            </div>
                        </div>
                        <div class="radio-group">
                            <div class="radio-option" onclick="selectMethod('linear')">
                                <div style="display: flex; align-items: center;">
                                    <input type="radio" name="method" value="linear" id="linear">
                                    <span style="font-weight: bold; font-size: 1.05em;">Lineares Sizing</span>
                                </div>
                                <div class="radio-description">F√ºr Beginner mit ersten Daten</div>
                            </div>
                        </div>
                        <div class="radio-group">
                            <div class="radio-option selected" onclick="selectMethod('exponential')">
                                <div style="display: flex; align-items: center;">
                                    <input type="radio" name="method" value="exponential" id="exponential" checked>
                                    <span style="font-weight: bold; font-size: 1.05em;">Exponentielles Sizing</span>
                                </div>
                                <div class="radio-description">F√ºr Trader mit 4+ Jahren Erfahrung + robuste Daten</div>
                            </div>
                        </div>
                        <div class="radio-group">
                            <div class="radio-option" onclick="selectMethod('wild')">
                                <div style="display: flex; align-items: center;">
                                    <input type="radio" name="method" value="wild" id="wild">
                                    <span style="font-weight: bold; font-size: 1.05em;">Exponentiell Wild</span>
                                </div>
                                <div class="radio-description">F√ºr Elite-Trader mit 8+ Jahren Erfahrung + tonnenweise Daten</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Trade-Grade ausw√§hlen</label>
                        <div class="grade-grid">
                            <button class="grade-button grade-a selected" onclick="selectGrade('A')">A-Trade</button>
                            <button class="grade-button grade-b" onclick="selectGrade('B')">B-Trade</button>
                            <button class="grade-button grade-c" onclick="selectGrade('C')">C-Trade</button>
                            <button class="grade-button grade-d" onclick="selectGrade('D')">D-Trade</button>
                        </div>
                    </div>
                </div>

                <!-- Ergebnis -->
                <div class="result-card" id="resultCard" style="background: var(--success);">
                    <h2 style="font-size: 1.8em; margin-bottom: 25px;" id="resultTitle">A-Trade Positionsgr√∂√üe</h2>

                    <div class="result-amount">
                        <div class="label">Empfohlenes Risiko</div>
                        <div class="amount" id="resultAmount">‚Ç¨8.000,00</div>
                        <div class="percentage" id="resultPercentage">8,00% des Depots</div>
                    </div>

                    <div class="characteristics">
                        <h3>Trade-Charakteristika</h3>
                        <div><strong>Win-Rate:</strong> <span id="winRate">90%</span></div>
                        <div><strong>Risk/Reward:</strong> <span id="riskReward">1:4</span></div>
                        <div><strong>Expected Value:</strong> <span id="expectedValue">$3.50</span></div>
                        <div><strong>H√§ufigkeit:</strong> <span id="frequency">2-3x pro Monat</span></div>
                    </div>

                    <div class="characteristics">
                        <p style="line-height: 1.6; font-size: 1.05em;">
                            <strong>Beschreibung:</strong> <span id="description">Die absoluten Highlight-Trades des Jahres. Pocket Aces. Alles stimmt perfekt.</span>
                        </p>
                        <p style="line-height: 1.6; font-size: 1.05em; margin-top: 10px;">
                            <strong>Beispiele:</strong> <span id="examples">QXO Entry bei $13.90, CELH Breakout, SMCI Stage 2 Setup</span>
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Weiter-Button zu Schritt 5 -->
            <div style="text-align: center; margin-top: 30px;">
                <button type="button" class="next-step-button" onclick="nextStep()">
                    ‚úÖ Calculator ausprobiert - Weiter zu Schritt 5: Performance-Vergleich ‚û°Ô∏è
                </button>
            </div>
        </div>

        <!-- Comparison Tab (Schritt 5) -->
        <div id="comparison" class="tab-content">
            <div class="content-card">
                <h2 style="font-size: 2em; margin-bottom: 30px; color: var(--primary-dark); text-align: center;">
                    üìä Die Macht des Exponentiellen Sizings
                </h2>

                <div class="highlight-box" style="margin-bottom: 30px;">
                    <p style="font-size: 1.1em; line-height: 1.6; color: var(--primary-dark);">
                        <strong>Annahme:</strong> 100 Trades √ºber ein Jahr: 2x A-Trades, 8x B-Trades, 24x C-Trades, 66x D-Trades<br/>
                        <strong>Depotwert:</strong> ‚Ç¨<span id="comparisonDepot">100.000</span><br/>
                        <strong>Basis-Risiko (D-Trade):</strong> <span id="comparisonRisk">1</span>%
                    </p>
                </div>

                <!-- Chart Container mit Tab-Auswahl -->
                <div class="chart-container">
                    <div class="chart-tabs">
                        <button class="chart-tab-button active" onclick="showChart('bar')">üìä Balkendiagramm</button>
                        <button class="chart-tab-button" onclick="showChart('line')">üìà Linienchart</button>
                        <button class="chart-tab-button" onclick="showChart('doughnut')">üç© Donut-Chart</button>
                    </div>
                    
                    <div class="chart-wrapper">
                        <canvas id="comparisonChart"></canvas>
                    </div>
                    
                    <div style="text-align: center; margin-top: 15px; font-size: 0.9em; color: #666;">
                        <span id="chartDescription">Jahresperformance-Vergleich der verschiedenen Sizing-Methoden</span>
                    </div>
                    
                    <!-- Farblegende f√ºr Balkendiagramm -->
                    <div id="colorLegend" style="display: flex; justify-content: center; gap: 20px; margin-top: 20px; flex-wrap: wrap;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 16px; height: 16px; background: #ef4444; border-radius: 4px;"></div>
                            <span style="font-size: 0.9em; color: #666;">Verlust</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 16px; height: 16px; background: #86efac; border-radius: 4px;"></div>
                            <span style="font-size: 0.9em; color: #666;">Niedrige Performance</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 16px; height: 16px; background: #4ade80; border-radius: 4px;"></div>
                            <span style="font-size: 0.9em; color: #666;">Mittlere Performance</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 16px; height: 16px; background: #22c55e; border-radius: 4px;"></div>
                            <span style="font-size: 0.9em; color: #666;">Gute Performance</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 16px; height: 16px; background: #16a34a; border-radius: 4px;"></div>
                            <span style="font-size: 0.9em; color: #666;">Elite Performance</span>
                        </div>
                    </div>
                </div>

                <!-- Numerische Ergebnisse (kompakter) -->
                <div class="grid-4" style="margin-bottom: 30px;">
                    <div class="comparison-card negative">
                        <h3 style="font-size: 1.3em; margin-bottom: 15px; color: var(--primary-dark);">Gleiches Sizing</h3>
                        <div class="comparison-amount negative" id="equalResult">-‚Ç¨2.000,00</div>
                        <div class="comparison-percentage negative" id="equalPercentage">-2,00%</div>
                    </div>

                    <div class="comparison-card positive">
                        <h3 style="font-size: 1.3em; margin-bottom: 15px; color: var(--primary-dark);">Lineares Sizing</h3>
                        <div class="comparison-amount positive" id="linearResult">+‚Ç¨11.000,00</div>
                        <div class="comparison-percentage positive" id="linearPercentage">+11,00%</div>
                    </div>

                    <div class="comparison-card positive">
                        <h3 style="font-size: 1.3em; margin-bottom: 15px; color: var(--primary-dark);">Exponentielles Sizing</h3>
                        <div class="comparison-amount positive" id="exponentialResult">+‚Ç¨35.000,00</div>
                        <div class="comparison-percentage positive" id="exponentialPercentage">+35,00%</div>
                    </div>

                    <div class="comparison-card positive">
                        <h3 style="font-size: 1.3em; margin-bottom: 15px; color: var(--primary-dark);">Exponentiell Wild</h3>
                        <div class="comparison-amount positive" id="wildResult">+‚Ç¨94.600,00</div>
                        <div class="comparison-percentage positive" id="wildPercentage">+94,60%</div>
                    </div>
                </div>

                <div style="background: var(--bg-page); border-radius: 12px; padding: 30px;">
                    <h3 style="font-size: 1.5em; margin-bottom: 20px; color: var(--primary-dark);">üí° Kernerkenntnisse</h3>
                    <ul style="font-size: 1.1em; line-height: 1.8; color: var(--primary-medium);">
                        <li style="margin-bottom: 15px;">
                            <strong>Gleiches Sizing:</strong> Bei konstanter Positionsgr√∂√üe wirst Du zum Verlierer-Trader, selbst wenn Du gute Trades identifizieren kannst!
                        </li>
                        <li style="margin-bottom: 15px;">
                            <strong>Lineares Sizing:</strong> Schon eine einfache Skalierung (1x, 2x, 3x, 4x) macht Dich profitabel.
                        </li>
                        <li style="margin-bottom: 15px;">
                            <strong>Exponentielles Sizing:</strong> Die wahre Magie beginnt hier. Durch 1x, 2x, 4x, 8x vervielfachst Du Deine Performance dramatisch.
                        </li>
                        <li>
                            <strong>Exponentiell Wild:</strong> Elite-Trader setzen auf extreme Skalierung (1x, 3x, 9x, 27x) und machen 80%+ ihrer Jahresperformance mit weniger als 5% ihrer Trades!
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p style="font-size: 1.2em; line-height: 1.8; margin-bottom: 15px;">
                <strong style="color: var(--gold-classic);">Denk dran:</strong> Elite-Trader machen 80%+ ihrer Jahresperformance mit weniger als 5% ihrer Trades!
            </p>
            <p style="font-size: 1.05em; opacity: 0.9;">
                Die Kunst liegt darin, die Pocket Aces zu erkennen und dann die Ranch zu setzen.
            </p>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Global variables
        let currentTab = 'poker';
        let selectedGrade = 'A';
        let selectedMethod = 'exponential';
        let depotwert = 100000;
        let risikoProTrade = 1;
        let comparisonChart = null;
        let currentChartType = 'bar';
        let currentStep = 1;
        let quizAnswers = {};
        let unlockedSteps = [1]; // Schritt 1 ist immer freigeschaltet

        // Trade grades data
        const tradeGrades = {
            A: {
                name: 'A-Trade',
                color: '#38a169',
                winRate: 90,
                reward: 4,
                risk: 1,
                ev: 3.50,
                frequency: '2-3x pro Monat',
                beschreibung: 'Die absoluten Highlight-Trades des Jahres. Pocket Aces. Alles stimmt perfekt.',
                beispiele: 'QXO Entry bei $13.90, CELH Breakout, SMCI Stage 2 Setup'
            },
            B: {
                name: 'B-Trade',
                color: '#d69e2e',
                winRate: 70,
                reward: 2,
                risk: 1,
                ev: 1.10,
                frequency: 'Mehrmals pro Woche',
                beschreibung: 'Solide Setups mit gutem Risk-Reward. Die "Singles" im Trading.',
                beispiele: 'Stage 2 Continuation (Super Stocks), Breakout √ºber Resistance (Bullenmarkt), PB mit 5-Level Confluence'
            },
            C: {
                name: 'C-Trade',
                color: '#b8860b',
                winRate: 55,
                reward: 1,
                risk: 1,
                ev: 0.10,
                frequency: 'T√§glich',
                beschreibung: 'Durchschnittliche Trades. Leichter Edge, aber nichts Besonderes.',
                beispiele: 'Kleine Scalps, Range-Trades, Routine-Setups'
            },
            D: {
                name: 'D-Trade',
                color: '#e53e3e',
                winRate: 40,
                reward: 1,
                risk: 1,
                ev: -0.20,
                frequency: 'St√§ndig verf√ºgbar',
                beschreibung: 'Mediocre 50/50 Trades oder negativer Expected Value. Vermeiden!',
                beispiele: 'FOMO-Trades, Breaking News ohne Setup, √úbertrading'
            }
        };

        // Multipliers for different methods
        const multipliers = {
            equal: { A: 1, B: 1, C: 1, D: 1 },
            linear: { A: 4, B: 3, C: 2, D: 1 },
            exponential: { A: 8, B: 4, C: 2, D: 1 },
            wild: { A: 27, B: 9, C: 3, D: 1 }
        };

        // Progressive Learning System
        const stepMapping = {
            'poker': 1,
            'warning': 2, 
            'grades': 3,
            'calculator': 4,
            'comparison': 5
        };

        // Tab switching with unlock logic
        function showTab(tabName) {
            const stepNumber = stepMapping[tabName];
            
            // Check if step is unlocked
            if (!unlockedSteps.includes(stepNumber)) {
                alert(`üîí Schritt ${stepNumber} ist noch nicht freigeschaltet! Absolviere erst die vorherigen Schritte.`);
                return;
            }

            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            const tabElement = document.getElementById(tabName);
            if (tabElement) {
                tabElement.classList.add('active');
            }
            
            // Add active class to the correct button (find by step number)
            const targetButton = tabButtons[stepNumber - 1];
            if (targetButton) {
                targetButton.classList.add('active');
            }
            
            currentTab = tabName;
            currentStep = stepNumber;
            
            updateProgress();
            
            // Scroll to top when switching tabs
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Quiz system
        function selectQuizAnswer(quizNumber, answer, isCorrect) {
            // Mark all options as unselected
            const quizOptions = event.target.parentElement.querySelectorAll('.quiz-option');
            quizOptions.forEach(option => {
                option.classList.remove('selected', 'correct', 'wrong');
            });
            
            // Mark selected option
            event.target.classList.add('selected');
            
            // Store answer
            quizAnswers[quizNumber] = { answer, isCorrect };
            
            // Show feedback
            const feedbackElement = document.getElementById(`quiz${quizNumber}Feedback`);
            feedbackElement.style.display = 'block';
            
            if (isCorrect) {
                event.target.classList.add('correct');
                feedbackElement.className = 'quiz-feedback correct';
                if (quizNumber === 1) {
                    feedbackElement.textContent = '‚úÖ Richtig! Du hast die Analogie verstanden.';
                } else if (quizNumber === 2) {
                    feedbackElement.textContent = '‚úÖ Perfekt! Das ist der Schl√ºssel zum erfolgreichen Position-Sizing.';
                } else if (quizNumber === 3) {
                    feedbackElement.textContent = '‚úÖ Exzellent! A-Trades haben den h√∂chsten Expected Value und sollten daher die gr√∂√üte Position bekommen.';
                }
                
                // Show next step button
                const nextButton = document.getElementById(`step${quizNumber}NextButton`);
                if (nextButton) {
                    nextButton.style.display = 'block';
                }
            } else {
                event.target.classList.add('wrong');
                feedbackElement.className = 'quiz-feedback wrong';
                if (quizNumber === 1 || quizNumber === 2) {
                    feedbackElement.textContent = '‚ùå Nicht ganz richtig. Denk nochmal √ºber die Poker-Analogie nach!';
                } else if (quizNumber === 3) {
                    feedbackElement.textContent = '‚ùå Nicht ganz richtig. Schau Dir die Expected Values (EV) nochmal an!';
                }
            }
        }

        // Next step function
        function nextStep() {
            const nextStepNumber = currentStep + 1;
            
            // Unlock next step
            if (!unlockedSteps.includes(nextStepNumber)) {
                unlockedSteps.push(nextStepNumber);
            }
            
            // Update tab button states
            updateTabStates();
            
            // Switch to next tab
            const nextTabName = Object.keys(stepMapping).find(key => stepMapping[key] === nextStepNumber);
            if (nextTabName) {
                showTab(nextTabName);
            }
        }

        // Update progress bar
        function updateProgress() {
            const totalSteps = 5;
            const progress = (currentStep / totalSteps) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
            
            const stepNames = {
                1: 'Poker-Analogie verstehen',
                2: 'Wichtige Warnung lesen', 
                3: 'Trade-Grades lernen',
                4: 'Calculator anwenden',
                5: 'Performance-Vergleich analysieren'
            };
            
            document.getElementById('progressText').textContent = 
                `Schritt ${currentStep} von ${totalSteps}: ${stepNames[currentStep]}`;
        }

        // Update tab button states (locked/unlocked)
        function updateTabStates() {
            document.querySelectorAll('.tab-button').forEach((button, index) => {
                const stepNumber = index + 1;
                if (unlockedSteps.includes(stepNumber)) {
                    button.style.opacity = '1';
                    button.style.cursor = 'pointer';
                    button.disabled = false;
                } else {
                    button.style.opacity = '0.5';
                    button.style.cursor = 'not-allowed';
                    button.disabled = true;
                }
            });
        }

        // Method selection
        function selectMethod(method) {
            selectedMethod = method;
            
            // Update radio buttons
            document.querySelectorAll('.radio-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            // Update radio input
            document.getElementById(method).checked = true;
            
            updateCalculation();
        }

        // Grade selection
        function selectGrade(grade) {
            selectedGrade = grade;
            
            // Update buttons
            document.querySelectorAll('.grade-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            updateCalculation();
        }

        // Update risk slider
        function updateRiskSlider() {
            const slider = document.getElementById('risikoRange');
            risikoProTrade = parseFloat(slider.value);
            document.getElementById('risikoValue').textContent = risikoProTrade + '%';
            updateCalculation();
        }

        // Calculate position size
        function calculatePositionSize(grade, method) {
            const basisRisiko = (depotwert * risikoProTrade) / 100;
            return basisRisiko * multipliers[method][grade];
        }

        // Update calculation
        function updateCalculation() {
            // Get current values
            depotwert = parseFloat(document.getElementById('depotwert').value) || 100000;
            
            const currentSize = calculatePositionSize(selectedGrade, selectedMethod);
            const grade = tradeGrades[selectedGrade];
            
            // Update result display
            document.getElementById('resultTitle').textContent = grade.name + ' Positionsgr√∂√üe';
            document.getElementById('resultAmount').textContent = '‚Ç¨' + currentSize.toLocaleString('de-DE', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            document.getElementById('resultPercentage').textContent = ((currentSize / depotwert) * 100).toFixed(2) + '% des Depots';
            
            // Update characteristics
            document.getElementById('winRate').textContent = grade.winRate + '%';
            document.getElementById('riskReward').textContent = '1:' + grade.reward;
            document.getElementById('expectedValue').textContent = '$' + grade.ev;
            document.getElementById('frequency').textContent = grade.frequency;
            document.getElementById('description').textContent = grade.beschreibung;
            document.getElementById('examples').textContent = grade.beispiele;
            
            // Update result card color
            const resultCard = document.getElementById('resultCard');
            resultCard.style.background = grade.color;
            
            // Update comparison
            updateComparison();
            
            // Update chart if it exists
            if (comparisonChart) {
                createComparisonChart();
            }
        }

        // Calculate comparison
        function updateComparison() {
            const trades = [
                { grade: 'A', count: 2, ev: 3.50 },
                { grade: 'B', count: 8, ev: 1.10 },
                { grade: 'C', count: 24, ev: 0.10 },
                { grade: 'D', count: 66, ev: -0.20 }
            ];

            const methods = ['equal', 'linear', 'exponential', 'wild'];
            const results = {};

            methods.forEach(method => {
                let totalPL = 0;
                trades.forEach(({ grade, count, ev }) => {
                    const size = calculatePositionSize(grade, method);
                    totalPL += size * ev * count;
                });
                results[method] = totalPL;
            });

            // Update comparison display
            document.getElementById('comparisonDepot').textContent = depotwert.toLocaleString('de-DE');
            document.getElementById('comparisonRisk').textContent = risikoProTrade;
            
            // Update results
            const methodIds = {
                equal: 'equalResult',
                linear: 'linearResult', 
                exponential: 'exponentialResult',
                wild: 'wildResult'
            };
            
            const percentageIds = {
                equal: 'equalPercentage',
                linear: 'linearPercentage',
                exponential: 'exponentialPercentage', 
                wild: 'wildPercentage'
            };

            Object.entries(results).forEach(([method, pl]) => {
                const isPositive = pl > 0;
                const performance = ((pl / depotwert) * 100).toFixed(2);
                
                const resultElement = document.getElementById(methodIds[method]);
                const percentageElement = document.getElementById(percentageIds[method]);
                
                resultElement.textContent = (isPositive ? '+' : '') + '‚Ç¨' + pl.toLocaleString('de-DE', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                percentageElement.textContent = (isPositive ? '+' : '') + performance + '%';
                
                // Update classes
                resultElement.className = 'comparison-amount ' + (isPositive ? 'positive' : 'negative');
                percentageElement.className = 'comparison-percentage ' + (isPositive ? 'positive' : 'negative');
            });
        }

        // Chart functions
        function showChart(chartType) {
            currentChartType = chartType;
            
            // Update tab buttons
            document.querySelectorAll('.chart-tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update chart description
            const descriptions = {
                bar: 'Jahresperformance-Vergleich der verschiedenen Sizing-Methoden',
                line: 'Performance-Entwicklung √ºber verschiedene Sizing-Ans√§tze',
                doughnut: 'Verteilung der Performance-Beitr√§ge nach Sizing-Methode'
            };
            document.getElementById('chartDescription').textContent = descriptions[chartType];
            
            // Show/hide color legend based on chart type
            const colorLegend = document.getElementById('colorLegend');
            if (chartType === 'bar') {
                colorLegend.style.display = 'flex';
            } else {
                colorLegend.style.display = 'none';
            }
            
            // Recreate chart
            createComparisonChart();
        }

        function createComparisonChart() {
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            
            // Destroy existing chart
            if (comparisonChart) {
                comparisonChart.destroy();
            }
            
            // Calculate current results
            const trades = [
                { grade: 'A', count: 2, ev: 3.50 },
                { grade: 'B', count: 8, ev: 1.10 },
                { grade: 'C', count: 24, ev: 0.10 },
                { grade: 'D', count: 66, ev: -0.20 }
            ];

            const methods = ['equal', 'linear', 'exponential', 'wild'];
            const results = {};
            const labels = ['Gleiches Sizing', 'Lineares Sizing', 'Exponentielles Sizing', 'Exponentiell Wild'];

            methods.forEach(method => {
                let totalPL = 0;
                trades.forEach(({ grade, count, ev }) => {
                    const size = calculatePositionSize(grade, method);
                    totalPL += size * ev * count;
                });
                results[method] = totalPL;
            });

            const data = [results.equal, results.linear, results.exponential, results.wild];
            const percentages = data.map(value => ((value / depotwert) * 100).toFixed(1));
            
            // Bedingte Formatierung: Hell- bis Dunkelgr√ºn basierend auf Performance
            const backgroundColors = data.map((value, index) => {
                if (value < 0) {
                    return '#ef4444'; // Rot f√ºr Verluste
                } else {
                    // Gr√ºn-Gradient basierend auf Ranking (0 = schlechteste positive, 3 = beste)
                    const positiveValues = data.filter(v => v >= 0);
                    const sortedPositive = [...positiveValues].sort((a, b) => a - b);
                    const rank = sortedPositive.indexOf(value);
                    
                    // Gr√ºn-Gradient von hell zu dunkel
                    const greenShades = [
                        '#86efac', // Hellgr√ºn (schlechteste positive Performance)
                        '#4ade80', // Mittelgr√ºn  
                        '#22c55e', // Gr√ºn
                        '#16a34a'  // Dunkelgr√ºn (beste Performance)
                    ];
                    
                    return greenShades[Math.min(rank, 3)];
                }
            });
            
            const borderColors = backgroundColors.map(color => color);

            let chartConfig = {};

            if (currentChartType === 'bar') {
                chartConfig = {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Jahresperformance (‚Ç¨)',
                            data: data,
                            backgroundColor: backgroundColors,
                            borderColor: borderColors,
                            borderWidth: 2,
                            borderRadius: 8,
                            borderSkipped: false,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: '#1a1a1a',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#daa520',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const value = context.parsed.y;
                                        const percentage = ((value / depotwert) * 100).toFixed(2);
                                        return [
                                            `Performance: ‚Ç¨${value.toLocaleString('de-DE')}`,
                                            `Rendite: ${percentage}%`
                                        ];
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#f0f0f0'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return '‚Ç¨' + value.toLocaleString('de-DE');
                                    },
                                    color: '#666'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: '#666',
                                    maxRotation: 45
                                }
                            }
                        },
                        animation: {
                            duration: 1000,
                            easing: 'easeOutQuart'
                        }
                    }
                };
            } else if (currentChartType === 'line') {
                chartConfig = {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Performance-Entwicklung',
                            data: data,
                            borderColor: '#16a34a',
                            backgroundColor: 'rgba(22, 163, 74, 0.1)',
                            borderWidth: 4,
                            fill: true,
                            tension: 0.4,
                            pointBackgroundColor: backgroundColors,
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 3,
                            pointRadius: 8,
                            pointHoverRadius: 12
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: '#1a1a1a',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#daa520',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const value = context.parsed.y;
                                        const percentage = ((value / depotwert) * 100).toFixed(2);
                                        return [
                                            `Performance: ‚Ç¨${value.toLocaleString('de-DE')}`,
                                            `Rendite: ${percentage}%`
                                        ];
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#f0f0f0'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return '‚Ç¨' + value.toLocaleString('de-DE');
                                    },
                                    color: '#666'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: '#666'
                                }
                            }
                        },
                        animation: {
                            duration: 1500,
                            easing: 'easeOutQuart'
                        }
                    }
                };
            } else if (currentChartType === 'doughnut') {
                // F√ºr Donut-Chart nur positive Werte verwenden
                const positiveData = data.filter(value => value > 0);
                const positiveLabels = labels.filter((label, index) => data[index] > 0);
                const positiveColors = backgroundColors.filter((color, index) => data[index] > 0);
                
                chartConfig = {
                    type: 'doughnut',
                    data: {
                        labels: positiveLabels,
                        datasets: [{
                            data: positiveData,
                            backgroundColor: positiveColors,
                            borderColor: '#ffffff',
                            borderWidth: 3,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true,
                                    color: '#666',
                                    font: {
                                        size: 12,
                                        weight: '600'
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: '#1a1a1a',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#daa520',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const value = context.parsed;
                                        const percentage = ((value / depotwert) * 100).toFixed(2);
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const share = ((value / total) * 100).toFixed(1);
                                        return [
                                            `Performance: ‚Ç¨${value.toLocaleString('de-DE')}`,
                                            `Rendite: ${percentage}%`,
                                            `Anteil: ${share}%`
                                        ];
                                    }
                                }
                            }
                        },
                        animation: {
                            duration: 1200,
                            easing: 'easeOutBounce'
                        }
                    }
                };
            }

            comparisonChart = new Chart(ctx, chartConfig);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateCalculation();
            updateProgress();
            updateTabStates();
            
            // Initialize chart after a short delay to ensure DOM is ready
            setTimeout(() => {
                if (currentTab === 'comparison') {
                    createComparisonChart();
                }
            }, 100);
        });
    </script>

    <!-- Navigation -->
    {% include '_navigation.html' %}
</body>
</html>

