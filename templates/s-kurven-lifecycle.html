{% extends "base.html" %}

{% block title %}S-Kurven & Unternehmenslebenszyklus - Investment-Timing meistern{% endblock %}

{% block content %}
<div class="s-kurven-wrapper">
<style>
    .s-kurven-wrapper {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: #f7f7f7;
        min-height: 100vh;
        padding-bottom: 60px;
    }

    .s-kurven-wrapper * {
        box-sizing: border-box;
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, #1a1a1a 0%, #b8860b 100%);
        color: white;
        padding: 80px 20px;
        text-align: center;
        margin-bottom: 40px;
    }

    .hero-section h1 {
        font-size: 2.8em;
        margin: 0 0 20px 0;
        font-weight: 800;
        line-height: 1.2;
    }

    .hero-section .subtitle {
        font-size: 1.4em;
        margin-bottom: 30px;
        opacity: 0.95;
    }

    .hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        padding: 10px 25px;
        border-radius: 50px;
        font-size: 0.95em;
        margin-bottom: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        max-width: 1000px;
        margin: 0 auto;
    }

    .stat-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 25px;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .stat-number {
        font-size: 2.5em;
        font-weight: 800;
        color: #f4e97b;
        margin: 0;
    }

    .stat-label {
        font-size: 0.95em;
        margin-top: 5px;
        opacity: 0.9;
    }

    /* Content Container */
    .content-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Progress Tracker */
    .progress-tracker {
        background: white;
        border-radius: 12px;
        padding: 25px 30px;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        gap: 20px;
    }

    .progress-circle {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: conic-gradient(#daa520 var(--progress, 0%), #e0e0e0 0%);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    .progress-circle::before {
        content: '';
        width: 55px;
        height: 55px;
        background: white;
        border-radius: 50%;
        position: absolute;
    }

    .progress-text {
        position: relative;
        font-weight: 800;
        font-size: 1.1em;
        color: #1a1a1a;
    }

    .progress-info h3 {
        margin: 0 0 5px 0;
        color: #1a1a1a;
        font-size: 1.2em;
    }

    .progress-info p {
        margin: 0;
        color: #666;
        font-size: 0.95em;
    }

    /* Section Cards */
    .section-card {
        background: white;
        border-radius: 12px;
        padding: 40px;
        margin-bottom: 30px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        border-left: 4px solid #daa520;
        transition: all 0.3s ease;
    }

    .section-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        margin-bottom: 0;
    }

    .section-header h2 {
        color: #1a1a1a;
        font-size: 1.8em;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .section-toggle {
        font-size: 1.5em;
        color: #b8860b;
        transition: transform 0.3s ease;
    }

    .section-toggle.expanded {
        transform: rotate(90deg);
    }

    .section-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease, padding 0.3s ease;
        padding: 0;
    }

    .section-content.expanded {
        max-height: 5000px;
        padding: 30px 0 0 0;
    }

    .section-card h3 {
        color: #2d2d2d;
        font-size: 1.4em;
        margin: 30px 0 15px 0;
        border-bottom: 2px solid #daa520;
        padding-bottom: 10px;
    }

    .section-card p {
        line-height: 1.8;
        color: #333;
        font-size: 1.05em;
    }

    /* Highlight Boxes */
    .highlight-box {
        background: linear-gradient(135deg, rgba(244, 233, 123, 0.3) 0%, rgba(218, 165, 32, 0.2) 100%);
        border-left: 4px solid #b8860b;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    .highlight-box strong {
        font-size: 1.15em;
        display: block;
        margin-bottom: 10px;
        color: #1a1a1a;
    }

    .warning-box {
        background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        border-left: 4px solid #d69e2e;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    .success-box {
        background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
        border-left: 4px solid #38a169;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    .danger-box {
        background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
        border-left: 4px solid #e53e3e;
        border-radius: 8px;
        padding: 20px 25px;
        margin: 25px 0;
    }

    /* Quote Box */
    .quote-box {
        background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);
        border-radius: 12px;
        padding: 30px;
        margin: 30px 0;
        color: white;
        position: relative;
    }

    .quote-box::before {
        content: '"';
        font-size: 5em;
        color: #daa520;
        position: absolute;
        top: 10px;
        left: 20px;
        opacity: 0.5;
        font-family: Georgia, serif;
        line-height: 1;
    }

    .quote-box blockquote {
        margin: 0;
        padding-left: 40px;
        font-size: 1.2em;
        font-style: italic;
        line-height: 1.7;
    }

    .quote-box cite {
        display: block;
        margin-top: 15px;
        padding-left: 40px;
        color: #daa520;
        font-style: normal;
        font-weight: 600;
    }

    /* S-Curve Visualization */
    .s-curve-container {
        background: #1a1a1a;
        border-radius: 12px;
        padding: 30px;
        margin: 30px 0;
        text-align: center;
    }

    .s-curve-svg {
        max-width: 100%;
        height: auto;
    }

    /* Lifecycle Grid */
    .lifecycle-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 30px 0;
    }

    .lifecycle-card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        border: 2px solid #e0e0e0;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .lifecycle-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
    }

    .lifecycle-card.startup::before { background: #e53e3e; }
    .lifecycle-card.young-growth::before { background: #d69e2e; }
    .lifecycle-card.high-growth::before { background: #38a169; }
    .lifecycle-card.mature-growth::before { background: #3182ce; }
    .lifecycle-card.mature-stable::before { background: #805ad5; }
    .lifecycle-card.decline::before { background: #718096; }

    .lifecycle-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        border-color: #daa520;
    }

    .lifecycle-card h4 {
        margin: 0 0 10px 0;
        font-size: 1.2em;
        color: #1a1a1a;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .lifecycle-card .stage-emoji {
        font-size: 1.4em;
    }

    .lifecycle-card p {
        margin: 0;
        font-size: 0.95em;
        color: #666;
        line-height: 1.6;
    }

    .lifecycle-card .action-badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.85em;
        font-weight: 600;
        margin-top: 15px;
    }

    .action-badge.buy { background: #d4edda; color: #155724; }
    .action-badge.hold { background: #fff3cd; color: #856404; }
    .action-badge.sell { background: #f8d7da; color: #721c24; }

    /* Comparison Table */
    .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 30px 0;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .comparison-table th {
        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        color: white;
        padding: 15px 20px;
        text-align: left;
        font-weight: 700;
    }

    .comparison-table td {
        padding: 15px 20px;
        border-bottom: 1px solid #e0e0e0;
        color: #333;
    }

    .comparison-table tr:last-child td {
        border-bottom: none;
    }

    .comparison-table tr:hover td {
        background: rgba(218, 165, 32, 0.05);
    }

    /* Synthesis Box */
    .synthesis-box {
        background: linear-gradient(135deg, #1a1a1a 0%, #b8860b 100%);
        border-radius: 12px;
        padding: 30px;
        margin: 30px 0;
        color: white;
    }

    .synthesis-box h4 {
        color: #f4e97b;
        margin: 0 0 15px 0;
        font-size: 1.3em;
    }

    .synthesis-box ul {
        margin: 0;
        padding-left: 20px;
    }

    .synthesis-box li {
        margin: 10px 0;
        line-height: 1.6;
    }

    /* Checklist */
    .checklist {
        background: white;
        border-radius: 12px;
        padding: 25px 30px;
        margin: 30px 0;
        border: 2px solid #daa520;
    }

    .checklist h4 {
        margin: 0 0 20px 0;
        color: #1a1a1a;
        font-size: 1.2em;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .checklist-item {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 12px 0;
        border-bottom: 1px solid #e0e0e0;
    }

    .checklist-item:last-child {
        border-bottom: none;
    }

    .checklist-item input[type="checkbox"] {
        width: 22px;
        height: 22px;
        accent-color: #daa520;
        cursor: pointer;
        flex-shrink: 0;
        margin-top: 2px;
    }

    .checklist-item label {
        cursor: pointer;
        font-size: 1em;
        color: #333;
        line-height: 1.5;
    }

    /* Quiz Section */
    .quiz-container {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 12px;
        padding: 30px;
        margin: 30px 0;
        border: 2px solid #daa520;
    }

    .quiz-container h4 {
        margin: 0 0 25px 0;
        color: #1a1a1a;
        font-size: 1.3em;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .quiz-question {
        margin-bottom: 25px;
    }

    .quiz-question p {
        font-weight: 600;
        margin-bottom: 15px;
        color: #1a1a1a;
    }

    .quiz-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .quiz-option {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 15px;
        background: white;
        border-radius: 8px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.3s ease;
    }

    .quiz-option:hover {
        border-color: #daa520;
        transform: translateX(5px);
    }

    .quiz-option input[type="radio"] {
        width: 20px;
        height: 20px;
        accent-color: #daa520;
    }

    .quiz-option.correct {
        background: #d4edda;
        border-color: #38a169;
    }

    .quiz-option.incorrect {
        background: #f8d7da;
        border-color: #e53e3e;
    }

    .quiz-feedback {
        margin-top: 20px;
        padding: 15px 20px;
        border-radius: 8px;
        display: none;
    }

    .quiz-feedback.show {
        display: block;
    }

    .quiz-feedback.success {
        background: #d4edda;
        color: #155724;
    }

    .quiz-feedback.error {
        background: #f8d7da;
        color: #721c24;
    }

    .quiz-btn {
        background: linear-gradient(135deg, #daa520 0%, #b8860b 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 15px;
    }

    .quiz-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 20px rgba(184, 134, 11, 0.4);
    }

    /* Key Takeaways */
    .key-takeaways {
        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        border-radius: 12px;
        padding: 40px;
        margin: 40px 0;
        color: white;
    }

    .key-takeaways h3 {
        color: #f4e97b;
        margin: 0 0 25px 0;
        font-size: 1.5em;
        display: flex;
        align-items: center;
        gap: 12px;
        border-bottom: none;
    }

    .takeaway-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
    }

    .takeaway-item {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        padding: 25px;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .takeaway-item h4 {
        color: #daa520;
        margin: 0 0 10px 0;
        font-size: 1.1em;
    }

    .takeaway-item p {
        margin: 0;
        color: rgba(255, 255, 255, 0.9);
        line-height: 1.6;
        font-size: 0.95em;
    }

    /* Next Section Button */
    .next-section-btn {
        background: linear-gradient(135deg, #daa520 0%, #b8860b 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        border-radius: 12px;
        font-weight: 700;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        margin-top: 20px;
    }

    .next-section-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 30px rgba(184, 134, 11, 0.4);
    }

    .next-section-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
    }

    /* Expert Cards */
    .expert-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 25px;
        margin: 30px 0;
    }

    .expert-card {
        background: white;
        border-radius: 12px;
        padding: 30px;
        border: 2px solid #e0e0e0;
        transition: all 0.3s ease;
    }

    .expert-card:hover {
        border-color: #daa520;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
    }

    .expert-card h4 {
        margin: 0 0 5px 0;
        color: #1a1a1a;
        font-size: 1.3em;
    }

    .expert-card .title {
        color: #daa520;
        font-size: 0.95em;
        margin-bottom: 15px;
    }

    .expert-card .focus {
        background: linear-gradient(135deg, rgba(218, 165, 32, 0.1) 0%, rgba(184, 134, 11, 0.1) 100%);
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
    }

    .expert-card .focus strong {
        color: #b8860b;
        display: block;
        margin-bottom: 5px;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .hero-section {
            padding: 60px 15px;
        }

        .hero-section h1 {
            font-size: 2em;
        }

        .hero-section .subtitle {
            font-size: 1.1em;
        }

        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .stat-number {
            font-size: 2em;
        }

        .section-card {
            padding: 25px;
        }

        .section-header h2 {
            font-size: 1.4em;
        }

        .progress-tracker {
            flex-direction: column;
            text-align: center;
        }

        .lifecycle-grid {
            grid-template-columns: 1fr;
        }

        .comparison-table {
            font-size: 0.9em;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 10px 12px;
        }

        .expert-grid {
            grid-template-columns: 1fr;
        }

        .takeaway-grid {
            grid-template-columns: 1fr;
        }

        .key-takeaways {
            padding: 25px;
        }
    }

    @media (max-width: 480px) {
        .stats-grid {
            grid-template-columns: 1fr;
        }

        .hero-section h1 {
            font-size: 1.7em;
        }

        .section-card {
            padding: 20px;
        }
    }
</style>

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-badge">
        üìà Investment-Timing Masterclass
    </div>
    <h1>S-Kurven & Unternehmens-<br>lebenszyklus</h1>
    <p class="subtitle">Die Konvergenz von Wachstumstheorie und fundamentaler Bewertung meistern</p>
    
    <div class="stats-grid">
        <div class="stat-card">
            <p class="stat-number">3-5</p>
            <p class="stat-label">Jahre optimales Zeitfenster</p>
        </div>
        <div class="stat-card">
            <p class="stat-number">6</p>
            <p class="stat-label">Lebenszyklus-Phasen</p>
        </div>
        <div class="stat-card">
            <p class="stat-number">2</p>
            <p class="stat-label">Experten-Frameworks</p>
        </div>
        <div class="stat-card">
            <p class="stat-number">1</p>
            <p class="stat-label">Sweet Spot identifizieren</p>
        </div>
    </div>
</section>

<div class="content-container">
    <!-- Progress Tracker -->
    <div class="progress-tracker">
        <div class="progress-circle" style="--progress: 0%;">
            <span class="progress-text" id="progressPercent">0%</span>
        </div>
        <div class="progress-info">
            <h3>Dein Lernfortschritt</h3>
            <p><span id="completedSections">0</span> von 8 Abschnitten abgeschlossen</p>
        </div>
    </div>

    <!-- Section 1: Einf√ºhrung -->
    <div class="section-card" id="section1">
        <div class="section-header" onclick="toggleSection(1)">
            <h2>1Ô∏è‚É£ Die Suche nach dem optimalen Timing</h2>
            <span class="section-toggle" id="toggle1">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content1">
            <p>In der komplexen Welt der Kapitalm√§rkte suchst du nach verl√§sslichen Modellen, um die Entwicklung von Unternehmen zu prognostizieren und den optimalen Einstiegszeitpunkt zu finden. In meinen Jahrzehnten des intensiven Studiums der M√§rkte und der Methoden langfristig erfolgreicher Investoren habe ich zwei besonders einflussreiche Frameworks entdeckt, die ich dir hier vorstelle:</p>
            
            <div class="expert-grid">
                <div class="expert-card">
                    <h4>Alex Sacerdote</h4>
                    <p class="title">Gr√ºnder, Whale Rock Capital Management</p>
                    <div class="focus">
                        <strong>üéØ Fokus: S-Kurven-Investitionsphilosophie</strong>
                        Identifiziert den optimalen Einstiegszeitpunkt in transformative Technologien durch Analyse von Adoptionsraten.
                    </div>
                    <p>Als Praktiker und Hedgefonds-Manager hat Sacerdote einen Ansatz entwickelt, der explosives Wachstum vorhersagbar macht.</p>
                </div>
                
                <div class="expert-card">
                    <h4>Prof. Aswath Damodaran</h4>
                    <p class="title">NYU Stern School of Business</p>
                    <div class="focus">
                        <strong>üéØ Fokus: Corporate Lifecycle Theorie</strong>
                        Bietet eine holistische, biologische Sichtweise auf die Alterungsprozesse von Unternehmen.
                    </div>
                    <p>Als "Dekan der Bewertung" liefert er eine wissenschaftliche Grundlage f√ºr fundamentale Analyse.</p>
                </div>
            </div>

            <div class="highlight-box">
                <strong>üîë Die zentrale Erkenntnis:</strong>
                Beide Modelle sprechen unterschiedliche Dialekte derselben √∂konomischen Sprache ‚Äì sie beschreiben die dynamische Beziehung zwischen <strong>Risiko, Reife, Wachstum und Rendite</strong>.
            </div>

            <button class="next-section-btn" onclick="completeSection(1)">
                Weiter zur S-Kurve ‚Üí
            </button>
        </div>
    </div>

    <!-- Section 2: Die S-Kurve verstehen -->
    <div class="section-card" id="section2">
        <div class="section-header" onclick="toggleSection(2)">
            <h2>2Ô∏è‚É£ Die S-Kurve der Technologie-Adoption</h2>
            <span class="section-toggle" id="toggle2">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content2">
            <p>Technologische Adoption verl√§uft selten linear ‚Äì sie folgt fast immer einer <strong>sigmoiden Funktion</strong>, der ber√ºhmten S-Kurve. Diese Kurve ist nicht nur eine grafische Darstellung, sondern ein Abbild des sozi√∂konomischen Verhaltens.</p>
            
            <!-- S-Curve Visualization -->
            <div class="s-curve-container">
                <svg class="s-curve-svg" viewBox="0 0 600 350" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background Grid -->
                    <defs>
                        <linearGradient id="curveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#e53e3e"/>
                            <stop offset="35%" style="stop-color:#d69e2e"/>
                            <stop offset="50%" style="stop-color:#38a169"/>
                            <stop offset="75%" style="stop-color:#3182ce"/>
                            <stop offset="100%" style="stop-color:#718096"/>
                        </linearGradient>
                    </defs>
                    
                    <!-- Axes -->
                    <line x1="50" y1="300" x2="550" y2="300" stroke="#666" stroke-width="2"/>
                    <line x1="50" y1="300" x2="50" y2="50" stroke="#666" stroke-width="2"/>
                    
                    <!-- Axis Labels -->
                    <text x="300" y="340" fill="#999" text-anchor="middle" font-size="14">Zeit / Marktreife</text>
                    <text x="25" y="175" fill="#999" text-anchor="middle" font-size="14" transform="rotate(-90, 25, 175)">Adoption / Marktanteil</text>
                    
                    <!-- S-Curve -->
                    <path d="M 60 290 
                             Q 100 285, 150 275
                             Q 200 260, 250 220
                             Q 300 160, 350 100
                             Q 400 60, 450 55
                             Q 500 52, 540 50" 
                          fill="none" 
                          stroke="url(#curveGradient)" 
                          stroke-width="4"
                          stroke-linecap="round"/>
                    
                    <!-- Phase Markers -->
                    <circle cx="120" cy="280" r="8" fill="#e53e3e"/>
                    <circle cx="220" cy="250" r="8" fill="#d69e2e"/>
                    <circle cx="300" cy="160" r="12" fill="#38a169" stroke="#f4e97b" stroke-width="3"/>
                    <circle cx="400" cy="60" r="8" fill="#3182ce"/>
                    <circle cx="500" cy="52" r="8" fill="#718096"/>
                    
                    <!-- Labels -->
                    <text x="120" y="320" fill="#e53e3e" text-anchor="middle" font-size="11" font-weight="bold">Fr√ºhphase</text>
                    <text x="220" y="320" fill="#d69e2e" text-anchor="middle" font-size="11" font-weight="bold">Wachstum</text>
                    <text x="300" y="200" fill="#38a169" text-anchor="middle" font-size="13" font-weight="bold">üéØ SWEET SPOT</text>
                    <text x="300" y="218" fill="#38a169" text-anchor="middle" font-size="10">Inflektionspunkt</text>
                    <text x="400" y="95" fill="#3182ce" text-anchor="middle" font-size="11" font-weight="bold">Reife</text>
                    <text x="500" y="85" fill="#718096" text-anchor="middle" font-size="11" font-weight="bold">S√§ttigung</text>
                    
                    <!-- Sweet Spot Highlight -->
                    <rect x="250" y="130" width="100" height="50" fill="rgba(56, 161, 105, 0.1)" rx="5"/>
                </svg>
            </div>

            <h3>Die vier Phasen der S-Kurve</h3>
            
            <div class="lifecycle-grid">
                <div class="lifecycle-card startup">
                    <h4><span class="stage-emoji">üå±</span> Phase 1: Fr√ºhphase</h4>
                    <p>Langsame Durchdringung, hohe Unsicherheit. Produkte sind teuer, komplex und es fehlt Infrastruktur. Nur Innovatoren und Early Adopters.</p>
                    <span class="action-badge sell">‚ö†Ô∏è Hohes Risiko</span>
                </div>
                
                <div class="lifecycle-card high-growth">
                    <h4><span class="stage-emoji">üöÄ</span> Phase 2: Inflektionspunkt</h4>
                    <p>Barrieren fallen ab! Von "Push" zu "Pull"-Markt. 3-5 Jahre explosives Volumenwachstum. <strong>Der optimale Einstiegszeitpunkt.</strong></p>
                    <span class="action-badge buy">‚úÖ KAUFEN</span>
                </div>
                
                <div class="lifecycle-card mature-growth">
                    <h4><span class="stage-emoji">üìà</span> Phase 3: Majority-Phase</h4>
                    <p>Massenadoption, aber Wachstum verlangsamt sich. >50% Marktdurchdringung. √úbergang von Umsatz zu Gewinn.</p>
                    <span class="action-badge hold">‚ö° Beobachten</span>
                </div>
                
                <div class="lifecycle-card decline">
                    <h4><span class="stage-emoji">üèîÔ∏è</span> Phase 4: S√§ttigung</h4>
                    <p>Markt voll penetriert. Wachstum stoppt. Zeit f√ºr Exit oder neue S-Kurve. Risiko von Disruption steigt.</p>
                    <span class="action-badge sell">üî¥ EXIT</span>
                </div>
            </div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Die Warnung von Sacerdote:</strong>
                <p>Investiere NICHT in der Fr√ºhphase! Das Beispiel A123 Systems zeigt: Zu fr√ºhe Investitionen in Elektrofahrzeuge f√ºhrten zu erheblichen Verlusten, weil Kostenstrukturen nicht wettbewerbsf√§hig waren.</p>
            </div>

            <button class="next-section-btn" onclick="completeSection(2)">
                Weiter zum Inflektionspunkt ‚Üí
            </button>
        </div>
    </div>

    <!-- Section 3: Der Inflektionspunkt -->
    <div class="section-card" id="section3">
        <div class="section-header" onclick="toggleSection(3)">
            <h2>3Ô∏è‚É£ Der Inflektionspunkt ‚Äì Dein Sweet Spot</h2>
            <span class="section-toggle" id="toggle3">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content3">
            <p>Der <strong>Inflektionspunkt</strong> ist der heilige Gral der Sacerdote-Methode. Hier √§ndern sich die fundamentalen Treiber des Marktes grundlegend.</p>

            <div class="quote-box">
                <blockquote>
                    "Sobald die Reibungsverluste eliminiert sind, verschiebt sich die Dynamik von einem 'Push'-Markt zu einem 'Pull'-Markt. Kunden rei√üen den Verk√§ufern die Produkte aus den H√§nden."
                </blockquote>
                <cite>‚Äî Alex Sacerdote, Whale Rock Capital</cite>
            </div>

            <h3>Woran erkennst du den Inflektionspunkt?</h3>

            <div class="checklist">
                <h4>‚úÖ Inflektionspunkt-Checkliste</h4>
                <div class="checklist-item">
                    <input type="checkbox" id="check1">
                    <label for="check1"><strong>Preisbarriere f√§llt:</strong> Kosten sinken dramatisch (Moore's Law, Skaleneffekte)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check2">
                    <label for="check2"><strong>Benutzerfreundlichkeit steigt:</strong> Produkt wird massentauglich (kein Tech-Wissen n√∂tig)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check3">
                    <label for="check3"><strong>√ñkosystem entsteht:</strong> Infrastruktur, Apps, Support-Netzwerk w√§chst</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check4">
                    <label for="check4"><strong>Push ‚Üí Pull:</strong> Von "Kunden √ºberzeugen" zu "Nachfrage kaum bedienbar"</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check5">
                    <label for="check5"><strong>Unit Growth explodiert:</strong> Verkaufszahlen steigen >50% pro Jahr</label>
                </div>
            </div>

            <div class="success-box">
                <strong>üéØ Die kontraintuitive Erkenntnis:</strong>
                <p>Nach dem Inflektionspunkt wird Technologie-Adoption <strong>vorhersehbar</strong>! √Ñhnlich wie biologische Populationen folgt sie mathematischen Mustern. Du kannst Volumenwachstum √ºber 3-5 Jahre mit hoher Pr√§zision modellieren.</p>
            </div>

            <h3>Beispiel: Das iPhone (2007-2012)</h3>
            <p>Das iPhone erreichte seinen Inflektionspunkt ca. 2009-2010:</p>
            <ul>
                <li>üì± App Store mit >100.000 Apps (√ñkosystem)</li>
                <li>üí∞ Preise sanken durch Mobilfunk-Subventionen</li>
                <li>üëÜ Touch-Interface wurde zum Standard</li>
                <li>üìà Ergebnis: 5 Jahre explosives Wachstum, Apple wurde wertvollstes Unternehmen</li>
            </ul>

            <button class="next-section-btn" onclick="completeSection(3)">
                Weiter zum Unternehmenslebenszyklus ‚Üí
            </button>
        </div>
    </div>

    <!-- Section 4: Damodarans Lifecycle -->
    <div class="section-card" id="section4">
        <div class="section-header" onclick="toggleSection(4)">
            <h2>4Ô∏è‚É£ Damodarans 6 Lebenszyklus-Phasen</h2>
            <span class="section-toggle" id="toggle4">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content4">
            <p>Professor Aswath Damodaran betrachtet Unternehmen wie lebende Organismen mit vorhersehbaren Alterungsprozessen. Jede Phase hat eigene Finanzkennzahlen und Investmentstrategien.</p>

            <div class="lifecycle-grid">
                <div class="lifecycle-card startup">
                    <h4><span class="stage-emoji">üí°</span> 1. Start-up Stage</h4>
                    <p><strong>Charakteristik:</strong> Idee existiert, aber kein/wenig Umsatz. Hohe Sterblichkeitsrate.</p>
                    <p><strong>Bewertung:</strong> Marktpotenzial, TAM, Team-Qualit√§t</p>
                    <span class="action-badge sell">VC-Investment</span>
                </div>
                
                <div class="lifecycle-card young-growth">
                    <h4><span class="stage-emoji">üåø</span> 2. Young Growth</h4>
                    <p><strong>Charakteristik:</strong> Umsatz w√§chst, aber Verluste. "Bar Mitzvah Moment" ‚Äì √úberleben fraglich.</p>
                    <p><strong>Bewertung:</strong> EV/Umsatz, Burn Rate</p>
                    <span class="action-badge hold">Vorsicht</span>
                </div>
                
                <div class="lifecycle-card high-growth">
                    <h4><span class="stage-emoji">üöÄ</span> 3. High Growth</h4>
                    <p><strong>Charakteristik:</strong> Skalierung! Margenerweiterung. Gewinne in Sicht. <strong>= Sacerdotes Inflektionspunkt!</strong></p>
                    <p><strong>Bewertung:</strong> EV/EBITDA, PEG Ratio</p>
                    <span class="action-badge buy">‚úÖ SWEET SPOT</span>
                </div>
                
                <div class="lifecycle-card mature-growth">
                    <h4><span class="stage-emoji">üìä</span> 4. Mature Growth</h4>
                    <p><strong>Charakteristik:</strong> Profitabel, stabile Margen. Einf√ºhrung von Dividenden.</p>
                    <p><strong>Bewertung:</strong> P/E Ratio, Dividend Yield</p>
                    <span class="action-badge hold">Income-Investment</span>
                </div>
                
                <div class="lifecycle-card mature-stable">
                    <h4><span class="stage-emoji">üèõÔ∏è</span> 5. Mature Stable</h4>
                    <p><strong>Charakteristik:</strong> Wachstum = BIP. Fokus auf Cashflow-Management, R√ºckk√§ufe.</p>
                    <p><strong>Bewertung:</strong> Free Cash Flow Yield</p>
                    <span class="action-badge hold">Value-Investment</span>
                </div>
                
                <div class="lifecycle-card decline">
                    <h4><span class="stage-emoji">üìâ</span> 6. Decline</h4>
                    <p><strong>Charakteristik:</strong> Umsatz sinkt, Margen schrumpfen. Disruption oder Turnaround n√∂tig.</p>
                    <p><strong>Bewertung:</strong> Liquidationswert, Asset Play</p>
                    <span class="action-badge sell">Meiden/Short</span>
                </div>
            </div>

            <div class="synthesis-box">
                <h4>üîó Die Verbindung zu Sacerdote</h4>
                <ul>
                    <li><strong>Sacerdotes "Slow Start"</strong> = Damodarans Start-up + Young Growth</li>
                    <li><strong>Sacerdotes "Inflektionspunkt"</strong> = Damodarans <strong>High Growth Stage</strong></li>
                    <li><strong>Sacerdotes ">50% Penetration"</strong> = Damodarans Mature Growth</li>
                    <li><strong>Sacerdotes "Maturing Industries"</strong> = Damodarans Decline</li>
                </ul>
            </div>

            <button class="next-section-btn" onclick="completeSection(4)">
                Weiter zur Synthese ‚Üí
            </button>
        </div>
    </div>

    <!-- Section 5: Die Synthese -->
    <div class="section-card" id="section5">
        <div class="section-header" onclick="toggleSection(5)">
            <h2>5Ô∏è‚É£ Die Synthese ‚Äì Zwei Modelle, ein Sweet Spot</h2>
            <span class="section-toggle" id="toggle5">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content5">
            <p>Die Kombination beider Frameworks liefert ein m√§chtiges Werkzeug f√ºr das Investment-Timing:</p>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>S-Kurve (Sacerdote)</th>
                        <th>Lifecycle (Damodaran)</th>
                        <th>Aktion</th>
                        <th>Bewertung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>üå± Fr√ºhphase (Slow Start)</td>
                        <td>Start-up / Young Growth</td>
                        <td style="color: #e53e3e;">‚ö†Ô∏è MEIDEN (au√üer VC)</td>
                        <td>TAM, EV/User</td>
                    </tr>
                    <tr style="background: rgba(56, 161, 105, 0.1);">
                        <td><strong>üöÄ Inflektionspunkt</strong></td>
                        <td><strong>High Growth Stage</strong></td>
                        <td style="color: #38a169;"><strong>‚úÖ KAUFEN!</strong></td>
                        <td>EV/Sales, PEG</td>
                    </tr>
                    <tr>
                        <td>üìà Deceleration (>50%)</td>
                        <td>Mature Growth</td>
                        <td style="color: #d69e2e;">‚ö° EXIT vorbereiten</td>
                        <td>P/E, Dividenden</td>
                    </tr>
                    <tr>
                        <td>üèîÔ∏è S√§ttigung / Decline</td>
                        <td>Mature Stable / Decline</td>
                        <td style="color: #e53e3e;">üî¥ VERKAUFEN</td>
                        <td>FCF, Liquidation</td>
                    </tr>
                </tbody>
            </table>

            <h3>Das Management-Paradoxon</h3>
            
            <div class="expert-grid">
                <div class="expert-card">
                    <h4>Damodaran: Der Skeptiker</h4>
                    <p>Statistisch schaffen die meisten Gr√ºnder den √úbergang zum CEO eines Gro√ükonzerns nicht. Governance-Wechsel sind <em>gesund und notwendig</em>.</p>
                    <div class="warning-box" style="margin: 15px 0 0 0; padding: 12px;">
                        "Die Regel: Gr√ºnder scheitern als Konzern-CEOs"
                    </div>
                </div>
                
                <div class="expert-card">
                    <h4>Sacerdote: Der Optimist</h4>
                    <p>Er sucht die statistische Anomalie ‚Äì den "Founder-CEO", der vision√§r bleibt UND operativ exzellent ist (Bezos, Hastings, Musk).</p>
                    <div class="success-box" style="margin: 15px 0 0 0; padding: 12px;">
                        "Die Ausnahme: Founder erfinden neue S-Kurven"
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <strong>üí° Deine Investment-Frage:</strong>
                <p>Ist dieses Management-Team die <strong>Ausnahme</strong> (kann neue S-Kurven erfinden) oder die <strong>Regel</strong> (wird den √úbergang nicht schaffen)?</p>
            </div>

            <button class="next-section-btn" onclick="completeSection(5)">
                Weiter zur Investment-Checkliste ‚Üí
            </button>
        </div>
    </div>

    <!-- Section 6: Investment-Checkliste -->
    <div class="section-card" id="section6">
        <div class="section-header" onclick="toggleSection(6)">
            <h2>6Ô∏è‚É£ Deine Investment-Checkliste</h2>
            <span class="section-toggle" id="toggle6">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content6">
            <p>Die Kombination beider Modelle liefert eine klare Handlungsanleitung f√ºr den <strong>optimalen Investitionszeitpunkt</strong>:</p>

            <div class="checklist">
                <h4>üéØ Der Sweet Spot ‚Äì 4 Kriterien</h4>
                
                <div class="checklist-item">
                    <input type="checkbox" id="invest1">
                    <label for="invest1">
                        <strong>1. Validierung (Sacerdote):</strong><br>
                        Ist der technologische Inflektionspunkt erreicht? Gibt es Beweise f√ºr explodierendes Unit Growth?
                    </label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="invest2">
                    <label for="invest2">
                        <strong>2. √úberlebensf√§higkeit (Damodaran):</strong><br>
                        Hat das Unternehmen den "Bar Mitzvah Moment" √ºberstanden? Ist das Gesch√§ftsmodell robust genug, um nicht an Cash-Burn zu sterben?
                    </label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="invest3">
                    <label for="invest3">
                        <strong>3. Burggraben (Beide):</strong><br>
                        Gibt es strukturelle Wettbewerbsvorteile (Moats), die sicherstellen, dass Wachstum sp√§ter in hohen Free Cash Flow konvertiert wird?
                    </label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="invest4">
                    <label for="invest4">
                        <strong>4. Exit-Disziplin:</strong><br>
                        Plane deinen Exit: Wenn Wachstum auf BIP-Niveau sinkt ODER Marktdurchdringung >50% erreicht.
                    </label>
                </div>
            </div>

            <div class="danger-box">
                <strong>‚õî Exit-Signale ‚Äì Wann du verkaufen solltest:</strong>
                <ul style="margin: 10px 0 0 0; padding-left: 20px;">
                    <li>Wachstum verlangsamt sich auf BIP-Niveau (2-3%)</li>
                    <li>Marktdurchdringung erreicht 50%+</li>
                    <li>Wettbewerbsvorteile erodieren</li>
                    <li>Management verliert Innovationskraft</li>
                    <li>Neue disruptive S-Kurve am Horizont</li>
                </ul>
            </div>

            <div class="quote-box">
                <blockquote>
                    "Ein hohes KGV ist kein Ausschlusskriterium, solange das Wachstum intakt ist und die Risikoreduktion sichtbar wird."
                </blockquote>
                <cite>‚Äî Gemeinsame Erkenntnis von Sacerdote & Damodaran</cite>
            </div>

            <button class="next-section-btn" onclick="completeSection(6)">
                Weiter zum Quiz ‚Üí
            </button>
        </div>
    </div>

    <!-- Section 7: Quiz -->
    <div class="section-card" id="section7">
        <div class="section-header" onclick="toggleSection(7)">
            <h2>7Ô∏è‚É£ Teste dein Wissen</h2>
            <span class="section-toggle" id="toggle7">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content7">
            <div class="quiz-container">
                <h4>üìù Quiz: S-Kurven & Lifecycle</h4>

                <!-- Question 1 -->
                <div class="quiz-question" id="q1">
                    <p>1. Was ist der "Inflektionspunkt" in Sacerdotes S-Kurven-Modell?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="a">
                            Der Punkt, an dem ein Unternehmen Bankrott geht
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="b">
                            Der √úbergang von "Push" zu "Pull"-Markt mit explosivem Wachstum
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="c">
                            Der Moment, wenn Aktien am g√ºnstigsten sind
                        </label>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question" id="q2">
                    <p>2. Welcher Damodaran-Phase entspricht Sacerdotes "Inflektionspunkt"?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="a">
                            Start-up Stage
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="b">
                            High Growth Stage
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="c">
                            Decline Stage
                        </label>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question" id="q3">
                    <p>3. Warum warnt Sacerdote vor Investments in der Fr√ºhphase?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="a">
                            Weil die Renditen zu niedrig sind
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="b">
                            Weil die Zeit bis zur Massenadoption untersch√§tzt wird und Risiko maximal ist
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="c">
                            Weil keine Aktien verf√ºgbar sind
                        </label>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question" id="q4">
                    <p>4. Was bedeutet "Bar Mitzvah Moment" bei Damodaran?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="a">
                            Der 13. Geburtstag des CEOs
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="b">
                            Der kritische √úbergang, an dem ein junges Unternehmen seine √úberlebensf√§higkeit beweist
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="c">
                            Ein j√ºdischer Feiertag f√ºr Investoren
                        </label>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question" id="q5">
                    <p>5. Wann solltest du laut beiden Modellen EXIT in Betracht ziehen?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="a">
                            Sobald das Unternehmen profitabel wird
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="b">
                            Wenn Wachstum auf BIP-Niveau sinkt oder Marktdurchdringung >50% erreicht
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="c">
                            Niemals ‚Äì Buy and Hold forever
                        </label>
                    </div>
                </div>

                <div class="quiz-feedback" id="quizFeedback"></div>

                <button class="quiz-btn" onclick="checkQuiz()">
                    Antworten √ºberpr√ºfen üìä
                </button>
            </div>

            <button class="next-section-btn" onclick="completeSection(7)" id="quizNextBtn" disabled>
                Weiter zu den Key Takeaways ‚Üí
            </button>
        </div>
    </div>

    <!-- Section 8: Key Takeaways -->
    <div class="section-card" id="section8">
        <div class="section-header" onclick="toggleSection(8)">
            <h2>8Ô∏è‚É£ Key Takeaways</h2>
            <span class="section-toggle" id="toggle8">‚ñ∂Ô∏è</span>
        </div>
        <div class="section-content" id="content8">
            <div class="key-takeaways">
                <h3>üèÜ Das hast du gelernt</h3>
                <div class="takeaway-grid">
                    <div class="takeaway-item">
                        <h4>üìà S-Kurve verstehen</h4>
                        <p>Technologie-Adoption folgt einer vorhersehbaren S-Form. Der Inflektionspunkt markiert den √úbergang von "Push" zu "Pull".</p>
                    </div>
                    <div class="takeaway-item">
                        <h4>üéØ Sweet Spot erkennen</h4>
                        <p>Der optimale Einstieg ist am Inflektionspunkt = Damodarans High Growth Stage. Hier ist Risiko reduziert bei maximalem Upside.</p>
                    </div>
                    <div class="takeaway-item">
                        <h4>‚è∞ Timing ist alles</h4>
                        <p>Zu fr√ºh (Fr√ºhphase) = hohes Risiko. Zu sp√§t (S√§ttigung) = verpasste Rendite. Das Fenster ist 3-5 Jahre.</p>
                    </div>
                    <div class="takeaway-item">
                        <h4>üîç Zwei Perspektiven</h4>
                        <p>Sacerdote liefert das Fernrohr (Chancen erkennen), Damodaran den Kompass (Risiken navigieren).</p>
                    </div>
                    <div class="takeaway-item">
                        <h4>üö™ Exit-Disziplin</h4>
                        <p>Plane deinen Exit BEVOR >50% Marktdurchdringung oder Wachstum auf BIP-Niveau sinkt.</p>
                    </div>
                    <div class="takeaway-item">
                        <h4>üëî Management bewerten</h4>
                        <p>Frage: Ist das Team die Ausnahme (kann neue S-Kurven erfinden) oder die Regel (wird scheitern)?</p>
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <strong>üéì Dein Investment-Mindset:</strong>
                <p>Sieh Unternehmen nicht als Tickersymbole, sondern als <strong>lebende Organismen</strong> im st√§ndigen Kampf um Relevanz (Adoption) und √úberleben (Cashflow). Wer die Sprache der S-Kurve mit der Grammatik des Lebenszyklus verbindet, besitzt einen entscheidenden Vorteil.</p>
            </div>

            <button class="next-section-btn" onclick="completeSection(8)">
                Modul abschlie√üen üéâ
            </button>
        </div>
    </div>

</div>

<!-- Navigation -->
{% include '_navigation.html' %}

<script>
    // Section Management
    let currentSection = 0;
    const totalSections = 8;
    let completedSections = new Set();

    // Initialize - open first section
    document.addEventListener('DOMContentLoaded', function() {
        toggleSection(1);
        loadProgress();
    });

    function toggleSection(sectionNumber) {
        const content = document.getElementById(`content${sectionNumber}`);
        const toggle = document.getElementById(`toggle${sectionNumber}`);

        if (content.classList.contains('expanded')) {
            content.classList.remove('expanded');
            toggle.classList.remove('expanded');
            toggle.textContent = '‚ñ∂Ô∏è';
        } else {
            // Collapse all other sections
            for (let i = 1; i <= totalSections; i++) {
                const otherContent = document.getElementById(`content${i}`);
                const otherToggle = document.getElementById(`toggle${i}`);
                if (otherContent && otherToggle && i !== sectionNumber) {
                    otherContent.classList.remove('expanded');
                    otherToggle.classList.remove('expanded');
                    otherToggle.textContent = '‚ñ∂Ô∏è';
                }
            }

            // Expand current section
            content.classList.add('expanded');
            toggle.classList.add('expanded');
            toggle.textContent = 'üîΩ';

            // Scroll to section
            setTimeout(() => {
                document.getElementById(`section${sectionNumber}`).scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 100);
        }
    }

    function completeSection(sectionNumber) {
        completedSections.add(sectionNumber);
        updateProgress();
        saveProgress();

        if (sectionNumber < totalSections) {
            toggleSection(sectionNumber + 1);
        } else {
            // Module completed!
            showCompletionMessage();
        }
    }

    function updateProgress() {
        const progress = (completedSections.size / totalSections) * 100;
        document.getElementById('progressPercent').textContent = Math.round(progress) + '%';
        document.getElementById('completedSections').textContent = completedSections.size;
        document.querySelector('.progress-circle').style.setProperty('--progress', progress + '%');
    }

    function saveProgress() {
        localStorage.setItem('s-kurven-progress', JSON.stringify([...completedSections]));
    }

    function loadProgress() {
        const saved = localStorage.getItem('s-kurven-progress');
        if (saved) {
            completedSections = new Set(JSON.parse(saved));
            updateProgress();
        }
    }

    function showCompletionMessage() {
        alert('üéâ Gl√ºckwunsch! Du hast das S-Kurven & Lifecycle Modul abgeschlossen!');
    }

    // Quiz Logic
    const correctAnswers = {
        q1: 'b',
        q2: 'b',
        q3: 'b',
        q4: 'b',
        q5: 'b'
    };

    function checkQuiz() {
        let score = 0;
        const totalQuestions = Object.keys(correctAnswers).length;

        for (const [question, correct] of Object.entries(correctAnswers)) {
            const selected = document.querySelector(`input[name="${question}"]:checked`);
            const options = document.querySelectorAll(`#${question} .quiz-option`);

            // Reset styles
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });

            if (selected) {
                const selectedOption = selected.closest('.quiz-option');
                if (selected.value === correct) {
                    score++;
                    selectedOption.classList.add('correct');
                } else {
                    selectedOption.classList.add('incorrect');
                    // Show correct answer
                    options.forEach(opt => {
                        if (opt.querySelector('input').value === correct) {
                            opt.classList.add('correct');
                        }
                    });
                }
            }
        }

        // Show feedback
        const feedback = document.getElementById('quizFeedback');
        feedback.classList.add('show');

        if (score === totalQuestions) {
            feedback.className = 'quiz-feedback show success';
            feedback.innerHTML = `üéâ <strong>Perfekt!</strong> Du hast alle ${totalQuestions} Fragen richtig beantwortet!`;
            document.getElementById('quizNextBtn').disabled = false;
        } else if (score >= totalQuestions * 0.6) {
            feedback.className = 'quiz-feedback show success';
            feedback.innerHTML = `üëç <strong>Gut gemacht!</strong> ${score} von ${totalQuestions} richtig. Die korrekten Antworten sind gr√ºn markiert.`;
            document.getElementById('quizNextBtn').disabled = false;
        } else {
            feedback.className = 'quiz-feedback show error';
            feedback.innerHTML = `üìñ <strong>${score} von ${totalQuestions} richtig.</strong> Schau dir die Abschnitte noch einmal an und versuche es erneut!`;
        }
    }
</script>
</div>
{% endblock %}

